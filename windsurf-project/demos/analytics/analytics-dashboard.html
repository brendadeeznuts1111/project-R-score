<!DOCTYPE html>
<html lang="en" data-scope="ENTERPRISE">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Empire Pro - Analytics</title>
  <style>
    /* CRITICAL CSS (inlined, no CDN) */
    :root { 
      --glass: rgba(15,23,42,0.7); 
      --border: rgba(148,163,184,0.1); 
      --text: #f8fafc;
      --text-dim: #94a3b8;
    }
    
    * { box-sizing: border-box; }
    
    body { 
      margin: 0; 
      font-family: ui-monospace, monospace; 
      background: #0f172a; 
      color: var(--text); 
      overflow: hidden;
    }
    
    .badge { 
      position: fixed; 
      top: 8px; 
      right: 8px; 
      padding: 4px 12px; 
      border-radius: 6px; 
      font-size: 11px; 
      font-weight: 700; 
      backdrop-filter: blur(10px); 
      border: 1px solid var(--border); 
      z-index: 1000; 
    }
    
    .scope-enterprise { 
      background: linear-gradient(135deg, #0ea5e9, #6366f1); 
      color: white; 
    }
    
    .container { 
      display: grid; 
      grid-template-columns: repeat(12, 1fr); 
      gap: 4px; 
      padding: 4px; 
      height: 100vh; 
      min-width: 900px; 
    }
    
    .card { 
      background: var(--glass); 
      backdrop-filter: blur(12px); 
      border: 1px solid var(--border); 
      border-radius: 8px; 
      padding: 8px; 
    }
    
    .grid-cols-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
    .col-span-12 { grid-column: span 12; }
    .col-span-8 { grid-column: span 8; }
    .col-span-6 { grid-column: span 6; }
    .col-span-4 { grid-column: span 4; }
    
    .gauge { 
      position: relative; 
      aspect-ratio: 1; 
      display: grid; 
      place-items: center; 
    }
    
    .gauge svg { 
      position: absolute; 
      inset: 0; 
      width: 100%; 
      height: 100%; 
    }
    
    .gauge .value { 
      font-size: 18px; 
      font-weight: 700; 
      text-shadow: 0 0 8px rgba(14,165,233,0.5); 
    }
    
    h3 { 
      margin: 0 0 8px 0; 
      font-size: 14px; 
      font-weight: 600; 
    }
    
    .text-sm { font-size: 12px; }
    .text-xs { font-size: 11px; }
    .flex { display: flex; }
    .justify-between { justify-content: space-between; }
    .items-center { align-items: center; }
    .mb-2 { margin-bottom: 8px; }
    .mt-1 { margin-top: 4px; }
    .mt-2 { margin-top: 8px; }
    
    table { 
      font-size: 11px; 
      width: 100%; 
      border-collapse: collapse; 
    }
    
    td { 
      padding: 2px 8px; 
      border-bottom: 1px solid var(--border); 
    }
    
    .heatmap { 
      width: 100%; 
      height: 200px; 
    }
    
    .status-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); 
      gap: 4px; 
      font-size: 11px; 
    }
    
    .status-item { 
      padding: 8px; 
      border-left: 3px solid; 
      border-radius: 6px; 
    }
    
    .status-ok { 
      border-left-color: #10b981; 
      background: rgba(16,185,129,0.1); 
    }
    
    .status-warn { 
      border-left-color: #f59e0b; 
      background: rgba(245,158,11,0.1); 
    }
    
    .urgent { 
      border-left-color: #ef4444; 
      background: rgba(239,68,68,0.1); 
    }
    
    .font-bold { font-weight: 700; }
    
    .text-emerald-400 { color: #34d399; }
    .text-blue-400 { color: #60a5fa; }
    .text-purple-400 { color: #a78bfa; }
    .text-orange-400 { color: #fb923c; }
    .text-red-400 { color: #f87171; }
    .text-slate-400 { color: #94a3b8; }
    
    .overflow-y-auto { overflow-y: auto; }
    .h-48 { height: 192px; }
    .h-32 { height: 128px; }
  </style>
</head>
<body>
  <div class="badge scope-enterprise" id="scopeBadge">ENTERPRISE</div>
  <div class="container">
    <!-- Gauges -->
    <div class="card col-span-12 grid-cols-3">
      <div class="gauge card">
        <svg id="trustGauge"></svg>
        <div class="value" id="trustValue">--</div>
      </div>
      <div class="gauge card">
        <svg id="healthGauge"></svg>
        <div class="value" id="healthValue">--</div>
      </div>
      <div class="card">
        <table>
          <tbody id="keyMetrics"></tbody>
        </table>
      </div>
    </div>
    
    <!-- Heatmap -->
    <div class="card col-span-8">
      <div class="flex justify-between items-center mb-2">
        <h3 class="text-sm">§99 ROI Heatmap</h3>
        <span class="text-xs">Last: <span id="heatmapLast">--</span></span>
      </div>
      <canvas class="heatmap" id="roiHeatmap"></canvas>
    </div>
    
    <!-- Events -->
    <div class="card col-span-4">
      <h3 class="text-sm mb-2">§Workflow Events</h3>
      <div id="eventStream" class="text-xs h-48 overflow-y-auto"></div>
    </div>
    
    <!-- Autonomic Grid -->
    <div class="card col-span-12">
      <h3 class="text-sm mb-2">§100 Autonomic Subsystems</h3>
      <div class="status-grid" id="autonomicGrid"></div>
    </div>
    
    <!-- I/O Metrics -->
    <div class="card col-span-6">
      <h3 class="text-sm mb-2">Bun-Native I/O</h3>
      <div id="ioMetrics"></div>
    </div>
    
    <!-- History -->
    <div class="card col-span-6">
      <h3 class="text-sm mb-2">§Workflow History</h3>
      <div id="workflowHistory" class="text-xs h-32 overflow-y-auto"></div>
    </div>
  </div>
  
  <script type="module">
    import { DashboardRenderer } from './enhanced-analytics-dashboard-new.js';
    new DashboardRenderer('ENTERPRISE').start();
  </script>
</body>
</html>
