# ğŸ› Bun Test Debugging Complete Guide v2.8

**Generated**: 2026-02-06T22:20:16.283Z
**Bun Version**: 1.3.8

## ğŸ” Debugging Flags Overview

| Flag | Description | Break on Start | Use Case |
|------|-------------|---------------|----------|
| `--inspect` | Start debugger server | No | Non-blocking debugging |
| `--inspect-brk` | Start debugger and break | Yes | Step-through debugging |

## ğŸ“Š Debug Test Results

| Test | Flag | Port | Debug Session | Breakpoints |
|------|------|------|---------------|-------------|
| basic-debug | --inspect | 9229 | âŒ Inactive | 0 |
| breakpoint-debug | --inspect-brk | 9230 | âŒ Inactive | 0 |
| async-debug | --inspect-brk | 9231 | âŒ Inactive | 0 |
| error-debug | --inspect-brk | 9232 | âŒ Inactive | 0 |
| performance-debug | --inspect | 9233 | âŒ Inactive | 0 |

## ğŸš€ Getting Started with Debugging

### Basic Debugging

```bash
# Start debugger (non-blocking)
bun test --inspect

# Start debugger and break on start
bun test --inspect-brk
```

### Custom Port

```bash
# Use custom debug port
bun test --inspect --inspect-port=9230
```

## ğŸ”— Connecting to Debugger

### Chrome DevTools

1. Run `bun test --inspect-brk`
2. Open Chrome
3. Navigate to `chrome://inspect`
4. Click "Open dedicated DevTools for Node"
5. Start debugging!

### VS Code

Create `.vscode/launch.json`:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug Bun Tests",
      "type": "node",
      "request": "attach",
      "port": 9229,
      "localRoot": "${workspaceFolder}",
      "remoteRoot": "${workspaceFolder}",
      "skipFiles": ["<node_internals>/**"]
    }
  ]
}
```

## ğŸ¯ Debugging Scenarios

### 1. Step-Through Debugging

```bash
bun test --inspect-brk debug-breakpoint.test.ts
```

- Break on first line
- Step through each function call
- Inspect variables at each step

### 2. Async Operation Debugging

```bash
bun test --inspect-brk debug-async.test.ts
```

- Debug Promise chains
- Inspect async/await flow
- Handle async errors properly

### 3. Error Debugging

```bash
bun test --inspect-brk debug-error.test.ts
```

- Catch errors at breakpoint
- Inspect error stack traces
- Debug assertion failures

### 4. Performance Debugging

```bash
bun test --inspect debug-performance.test.ts
```

- Profile slow operations
- Monitor memory usage
- Trace function calls

## ğŸ’¡ Debugging Tips

### Breakpoints

- Use `debugger;` statement in code
- Set breakpoints in DevTools
- Use conditional breakpoints
- Break on caught exceptions

### Variable Inspection

- Watch expressions for variables
- Inspect scope and closure variables
- Modify variables during debugging
- Use console.log for quick checks

### Call Stack Navigation

- Step over (F10) - Skip function calls
- Step into (F11) - Enter function calls
- Step out (Shift+F11) - Exit current function
- Continue (F8) - Run to next breakpoint

## ğŸ› ï¸ Advanced Debugging

### Remote Debugging

```bash
# On remote machine
bun test --inspect --inspect-port=0.0.0.0:9229

# Connect from local machine
# Use SSH tunnel or direct connection
```

### Debug Configuration

```typescript
// bun-test.config.ts
export default {
  // Debug-specific settings
  timeout: 30000, // Longer timeout for debugging
  concurrency: 1, // Single-threaded for easier debugging
};
```

## ğŸ”§ Troubleshooting

### Common Issues

- **Port already in use**: Use `--inspect-port` with different port
- **Debugger not connecting**: Check firewall and network settings
- **Tests not stopping**: Use --inspect-brk instead of --inspect
- **Breakpoints not hitting**: Ensure source maps are enabled

### Performance Impact

- Debugging slows down test execution
- Use --inspect for minimal impact
- Use --inspect-brk only when needed
- Remove debugger statements in production

---

*Generated by Bun Test Debugging Demo v2.8*