// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`Advanced Bun Test Features Snapshot Testing should snapshot performance metrics 1`] = `
{
  "activeConnectionCount": 0,
  "averageLatencyMilliseconds": 0,
  "serverUptimeMilliseconds": 0,
  "systemCpuUsage": {
    "system": 8470,
    "user": 20805,
  },
  "systemMemoryUsage": {
    "arrayBuffers": 0,
    "external": 222031,
    "heapTotal": 1696768,
    "heapUsed": 829727,
    "rss": 43646976,
  },
  "totalByteCount": 0,
  "totalConnectionCount": 0,
  "totalErrorCount": 0,
  "totalMessageCount": 0,
}
`;

exports[`Advanced Bun Test Features Snapshot Testing should snapshot configuration object 1`] = `
{
  "authentication": undefined,
  "backpressureLimit": 1024,
  "buffer": {
    "compress": true,
    "encrypt": false,
    "maxAge": 60000,
    "maxSize": 1000,
    "onOverflow": "drop_oldest",
    "persistent": false,
    "replayEnabled": false,
    "replayMaxAge": 30000,
    "storagePath": "./buffer-data",
  },
  "caching": undefined,
  "cluster": undefined,
  "compressionConfig": {
    "algorithm": "gzip",
    "cacheCompressed": true,
    "chunkSize": 16384,
    "contentTypes": [
      "text/*",
      "application/json",
      "application/javascript",
    ],
    "enabled": true,
    "excludeContentTypes": [
      "image/*",
      "video/*",
      "audio/*",
    ],
    "level": 6,
    "memLevel": 8,
    "strategy": 0,
    "threshold": 1024,
    "varyHeader": true,
    "windowBits": 15,
  },
  "connectionPool": {
    "acquireTimeout": 30000,
    "createRetryInterval": 200,
    "destroyTimeout": 5000,
    "enabled": true,
    "evictionRunInterval": 30000,
    "fifo": true,
    "idleTimeout": 60000,
    "maxSize": 10,
    "minSize": 0,
    "priorityRange": 1,
    "testOnBorrow": true,
    "testOnReturn": false,
    "testWhileIdle": true,
  },
  "cors": {
    "allowedHeaders": [],
    "credentials": false,
    "exposedHeaders": [],
    "maxAge": 86400,
    "methods": [
      "GET",
      "HEAD",
      "PUT",
      "PATCH",
      "POST",
      "DELETE",
    ],
    "optionsSuccessStatus": 204,
    "origin": "*",
    "preflightContinue": false,
  },
  "debug": true,
  "firewall": undefined,
  "gracefulShutdown": {
    "closeTimeout": 5000,
    "drainConnections": true,
    "drainTimeout": 10000,
    "enabled": true,
    "exitCode": 0,
    "forceExit": true,
    "signals": [
      "SIGTERM",
      "SIGINT",
    ],
    "timeout": 30000,
  },
  "health": {
    "enabled": true,
    "endpoint": "/health",
    "exposeDetails": false,
    "healthyThreshold": 2,
    "interval": 30000,
    "pingInterval": 25000,
    "pingMessage": "ping",
    "timeout": 5000,
    "unhealthyThreshold": 3,
  },
  "heartbeatInterval": 30000,
  "http": undefined,
  "idleTimeout": 60000,
  "listenHost": "0.0.0.0",
  "listenPort": 3001,
  "loadBalancing": undefined,
  "logging": {
    "colors": true,
    "destination": "console",
    "file": "./logs/proxy.log",
    "format": "json",
    "level": "info",
    "maxFiles": 30,
    "maxSize": "100MB",
    "rotation": "daily",
    "timestamp": true,
  },
  "maxConnections": 100,
  "maxPayloadSize": 1048576,
  "metrics": undefined,
  "mitm": undefined,
  "rateLimiting": {
    "delayMs": 0,
    "enabled": true,
    "maxRequests": 100,
    "skipFailedRequests": false,
    "skipSuccessfulRequests": false,
    "trustProxy": false,
    "windowMs": 60000,
  },
  "reconnectAttempts": 3,
  "reconnectDelay": 1000,
  "socks5": undefined,
  "stats": {
    "anonymize": false,
    "collectionInterval": 5000,
    "enableConnectionStats": true,
    "enableLatencyHistogram": false,
    "enablePerTopicStats": false,
    "enableResourceStats": true,
    "exportFormat": "json",
    "exportPath": "./stats",
    "maxSamples": 1000,
    "realTimeUpdates": true,
    "retentionPeriod": 3600000,
  },
  "targetUrl": "ws://localhost:8080/ws",
  "tls": undefined,
}
`;
