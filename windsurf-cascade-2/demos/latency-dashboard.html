<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <title>ðŸš€ Latency & Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --color-background: #1f2937;
            --color-foreground: #f3f4f6;
            --color-accent: #3b82f6;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-info: #06b6d4;
            --color-neutral: #6b7280;
            --movement-up: #10b981;
            --movement-down: #ef4444;
            --movement-same: #6b7280;
            --latency-fast: #10b981;
            --latency-medium: #f59e0b;
            --latency-slow: #ef4444;
            --latency-critical: #dc2626;
            --status-healthy: #10b981;
            --status-warning: #f59e0b;
            --status-critical: #ef4444;
            --status-unknown: #6b7280;
        }

        body {
            background: var(--color-background);
            color: var(--color-foreground);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-healthy { background: var(--status-healthy); }
        .status-warning { background: var(--status-warning); }
        .status-critical { background: var(--status-critical); }
        .status-unknown { background: var(--status-unknown); }

        .latency-bar {
            height: 4px;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .latency-fast { background: var(--latency-fast); }
        .latency-medium { background: var(--latency-medium); }
        .latency-slow { background: var(--latency-slow); }
        .latency-critical { background: var(--latency-critical); }

        .metric-card {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            border: 1px solid #4b5563;
            border-radius: 8px;
            padding: 16px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .endpoint-row {
            transition: background-color 0.2s ease;
        }

        .endpoint-row:hover {
            background-color: #374151;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .updating {
            animation: pulse 1s infinite;
        }

        .chart-container {
            position: relative;
            height: 300px;
            background: #111827;
            border-radius: 8px;
            padding: 16px;
        }

        .theme-selector {
            background: #374151;
            border: 1px solid #4b5563;
            border-radius: 6px;
            padding: 8px 12px;
            color: var(--color-foreground);
        }
    </style>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: https:; connect-src 'self' https:;">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Origin Dashboard",
        "description": "Real-time performance monitoring and analytics dashboard",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any"
    }
</script>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: https:; connect-src 'self' https:;">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Origin Dashboard",
        "description": "Real-time performance monitoring and analytics dashboard",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any"
    }
</script>
</head>
<body class="min-h-screen">
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded">Skip to main content</a>
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded">Skip to main content</a>
    <!-- Header -->
    <header class="bg-gray-800 border-b border-gray-700 px-6 py-4">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="description" content="Interactive dashboard and monitoring system with real-time performance metrics and analysis tools.">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta name="keywords" content="dashboard, monitoring, performance, metrics, analytics, real-time, visualization">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
    <meta property="og:title" content="Origin Dashboard - System Monitoring">
    <meta property="og:description" content="Real-time performance monitoring and analytics dashboard">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/dashboard-preview.png">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                    Latency & Performance Dashboard
                </h1>
            </div>
            <div class="flex items-center space-x-4">
                <select id="theme-selector" class="theme-selector">
                    <option value="default">Default Dark</option>
                    <option value="light">Light Theme</option>
                    <option value="high-contrast">High Contrast</option>
                    <option value="professional">Professional Blue</option>
                    <option value="data-viz">Data Visualization</option>
                </select>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-sm">Live Monitoring</span>
                </div>
                <button id="refresh-btn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                    Refresh
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">
        <!-- Summary Cards -->
        <section class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="metric-card">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-sm font-medium text-gray-400">Total Requests</h3>
                        <svg class="w-4 h-4 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </div>
                    <div class="text-2xl font-bold" id="total-requests">0</div>
                    <div class="text-xs text-gray-500 mt-1">All endpoints</div>
                </div>

                <div class="metric-card">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-sm font-medium text-gray-400">Average Latency</h3>
                        <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="text-2xl font-bold" id="avg-latency">0ms</div>
                    <div class="text-xs text-gray-500 mt-1">Across all endpoints</div>
                </div>

                <div class="metric-card">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-sm font-medium text-gray-400">Cache Hit Rate</h3>
                        <svg class="w-4 h-4 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div class="text-2xl font-bold" id="cache-hit-rate">0%</div>
                    <div class="text-xs text-gray-500 mt-1">Cache efficiency</div>
                </div>

                <div class="metric-card">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-sm font-medium text-gray-400">Error Rate</h3>
                        <svg class="w-4 h-4 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="text-2xl font-bold" id="error-rate">0%</div>
                    <div class="text-xs text-gray-500 mt-1">Failed requests</div>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="mb-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="chart-container">
                    <h3 class="text-lg font-semibold mb-4">Latency Trends</h3>
                    <canvas id="latency-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3 class="text-lg font-semibold mb-4">Endpoint Performance</h3>
                    <canvas id="performance-chart"></canvas>
                </div>
            </div>
        </section>

        <!-- Endpoints Table -->
        <section class="mb-8">
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-semibold">Endpoint Status</h2>
                    <div class="flex space-x-2">
                        <button id="clear-cache-btn" class="px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded text-sm transition-colors">
                            Clear Cache
                        </button>
                        <button id="export-metrics-btn" class="px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm transition-colors">
                            Export Metrics
                        </button>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b border-gray-700">
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Endpoint</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Integration</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Status</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Latency</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Cache Hit Rate</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Error Rate</th>
                                <th class="text-left py-3 px-4 text-sm font-medium text-gray-400">Requests</th>
                            </tr>
                        </thead>
                        <tbody id="endpoints-tbody">
                            <!-- Endpoint rows will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Real-time Metrics -->
        <section>
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                <h2 class="text-xl font-semibold mb-4">Real-time Metrics</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <h3 class="text-sm font-medium text-gray-400 mb-3">Top Slow Endpoints</h3>
                        <div id="slow-endpoints" class="space-y-2">
                            <!-- Will be populated -->
                        </div>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-gray-400 mb-3">Top Error Endpoints</h3>
                        <div id="error-endpoints" class="space-y-2">
                            <!-- Will be populated -->
                        </div>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-gray-400 mb-3">Recent Activity</h3>
                        <div id="recent-activity" class="space-y-2">
                            <!-- Will be populated -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Color Scheme Manager Implementation
        class ColorSchemeManager {
            static schemes = new Map();
            static currentScheme = 'default';

            static {
                this.initializeSchemes();
            }

            static initializeSchemes() {
                this.schemes.set('default', {
                    name: 'Default Dark',
                    colors: {
                        background: '#1f2937',
                        foreground: '#f3f4f6',
                        accent: '#3b82f6',
                        success: '#10b981',
                        warning: '#f59e0b',
                        error: '#ef4444',
                        info: '#06b6d4',
                        neutral: '#6b7280'
                    },
                    latencyColors: {
                        fast: '#10b981',
                        medium: '#f59e0b',
                        slow: '#ef4444',
                        critical: '#dc2626'
                    },
                    statusColors: {
                        healthy: '#10b981',
                        warning: '#f59e0b',
                        critical: '#ef4444',
                        unknown: '#6b7280'
                    }
                });

                this.schemes.set('light', {
                    name: 'Light Theme',
                    colors: {
                        background: '#ffffff',
                        foreground: '#1f2937',
                        accent: '#3b82f6',
                        success: '#059669',
                        warning: '#d97706',
                        error: '#dc2626',
                        info: '#0891b2',
                        neutral: '#6b7280'
                    },
                    latencyColors: {
                        fast: '#059669',
                        medium: '#d97706',
                        slow: '#dc2626',
                        critical: '#b72670'
                    },
                    statusColors: {
                        healthy: '#059669',
                        warning: '#d97706',
                        critical: '#dc2626',
                        unknown: '#6b7280'
                    }
                });

                this.schemes.set('high-contrast', {
                    name: 'High Contrast',
                    colors: {
                        background: '#000000',
                        foreground: '#ffffff',
                        accent: '#00ffff',
                        success: '#00ff00',
                        warning: '#ffff00',
                        error: '#ff0000',
                        info: '#00ffff',
                        neutral: '#808080'
                    },
                    latencyColors: {
                        fast: '#00ff00',
                        medium: '#ffff00',
                        slow: '#ff0000',
                        critical: '#ff00ff'
                    },
                    statusColors: {
                        healthy: '#00ff00',
                        warning: '#ffff00',
                        critical: '#ff0000',
                        unknown: '#808080'
                    }
                });

                this.schemes.set('professional', {
                    name: 'Professional Blue',
                    colors: {
                        background: '#0f172a',
                        foreground: '#e2e8f0',
                        accent: '#0284c7',
                        success: '#0891b2',
                        warning: '#eab308',
                        error: '#dc2626',
                        info: '#6200ee',
                        neutral: '#64748b'
                    },
                    latencyColors: {
                        fast: '#0891b2',
                        medium: '#eab308',
                        slow: '#dc2626',
                        critical: '#b704ff'
                    },
                    statusColors: {
                        healthy: '#0891b2',
                        warning: '#eab308',
                        critical: '#dc2626',
                        unknown: '#64748b'
                    }
                });

                this.schemes.set('data-viz', {
                    name: 'Data Visualization',
                    colors: {
                        background: '#18181b',
                        foreground: '#fafafa',
                        accent: '#06b6d6',
                        success: '#10b981',
                        warning: '#f59e0b',
                        error: '#ef4444',
                        info: '#8b5cf6',
                        neutral: '#71717a'
                    },
                    latencyColors: {
                        fast: '#10b981',
                        medium: '#f59e0b',
                        slow: '#ef4444',
                        critical: '#e3093d'
                    },
                    statusColors: {
                        healthy: '#10b981',
                        warning: '#f59e0b',
                        critical: '#ef4444',
                        unknown: '#71717a'
                    }
                });
            }

            static getCurrentScheme() {
                return this.schemes.get(this.currentScheme) || this.schemes.get('default');
            }

            static setScheme(name) {
                if (this.schemes.has(name)) {
                    this.currentScheme = name;
                    this.applyTheme();
                    return true;
                }
                return false;
            }

            static getLatencyColor(latency) {
                const scheme = this.getCurrentScheme();
                
                if (latency < 100) return scheme.latencyColors.fast;
                if (latency < 500) return scheme.latencyColors.medium;
                if (latency < 1000) return scheme.latencyColors.slow;
                return scheme.latencyColors.critical;
            }

            static getStatusColor(status) {
                const scheme = this.getCurrentScheme();
                return scheme.statusColors[status] || scheme.colors.neutral;
            }

            static applyTheme() {
                const scheme = this.getCurrentScheme();
                const root = document.documentElement;
                
                // Update CSS variables
                Object.entries(scheme.colors).forEach(([key, value]) => {
                    root.style.setProperty(`--color-${key}`, value);
                });
                
                Object.entries(scheme.latencyColors).forEach(([key, value]) => {
                    root.style.setProperty(`--latency-${key}`, value);
                });
                
                Object.entries(scheme.statusColors).forEach(([key, value]) => {
                    root.style.setProperty(`--status-${key}`, value);
                });
            }
        }

        // Latency Tracker Implementation
        class LatencyTracker {
            constructor() {
                this.metrics = new Map();
                this.cache = new Map();
                this.stats = new Map();
                this.maxHistorySize = 10000;
                this.defaultCacheTTL = 300000;
            }

            recordLatency(endpoint, integration, latency, statusCode = 200, cacheHit = false, error) {
                const key = `${integration}:${endpoint}`;
                const metric = {
                    endpoint,
                    integration,
                    timestamp: Date.now(),
                    latency,
                    cacheHit,
                    statusCode,
                    error
                };

                if (!this.metrics.has(key)) {
                    this.metrics.set(key, []);
                }
                
                const metrics = this.metrics.get(key);
                metrics.push(metric);

                if (metrics.length > this.maxHistorySize) {
                    metrics.shift();
                }

                this.updateStats(key);
            }

            getDashboardData() {
                const endpoints = Array.from(this.stats.values()).map(stat => {
                    let status = 'healthy';
                    
                    if (stat.errorRate > 0.1) {
                        status = 'critical';
                    } else if (stat.averageLatency > 1000 || stat.errorRate > 0.05) {
                        status = 'warning';
                    }

                    return {
                        endpoint: stat.endpoint,
                        integration: stat.integration,
                        status,
                        latency: stat.averageLatency,
                        cacheHitRate: stat.cacheHitRate,
                        errorRate: stat.errorRate,
                        requests: stat.totalRequests
                    };
                });

                const summary = this.getPerformanceSummary();

                return {
                    endpoints,
                    summary: {
                        totalRequests: summary.totalRequests,
                        averageLatency: summary.overallAverageLatency,
                        cacheHitRate: summary.overallCacheHitRate
                    }
                };
            }

            getPerformanceSummary() {
                const stats = Array.from(this.stats.values());
                const totalRequests = stats.reduce((sum, stat) => sum + stat.totalRequests, 0);
                const overallAverageLatency = stats.reduce((sum, stat) => sum + stat.averageLatency * stat.totalRequests, 0) / totalRequests || 0;
                const overallCacheHitRate = stats.reduce((sum, stat) => sum + stat.cacheHitRate * stat.totalRequests, 0) / totalRequests || 0;

                const topSlowEndpoints = stats
                    .filter(stat => stat.totalRequests > 0)
                    .sort((a, b) => b.averageLatency - a.averageLatency)
                    .slice(0, 5)
                    .map(stat => ({
                        endpoint: stat.endpoint,
                        integration: stat.integration,
                        avgLatency: stat.averageLatency
                    }));

                const topErrorEndpoints = stats
                    .filter(stat => stat.totalRequests > 0 && stat.errorRate > 0)
                    .sort((a, b) => b.errorRate - a.errorRate)
                    .slice(0, 5)
                    .map(stat => ({
                        endpoint: stat.endpoint,
                        integration: stat.integration,
                        errorRate: stat.errorRate
                    }));

                return {
                    totalEndpoints: stats.length,
                    totalRequests,
                    overallAverageLatency,
                    overallCacheHitRate,
                    topSlowEndpoints,
                    topErrorEndpoints
                };
            }

            clearAllCache() {
                this.cache.clear();
            }

            updateStats(key) {
                const metrics = this.metrics.get(key);
                if (!metrics || metrics.length === 0) return;

                const sortedLatencies = metrics.map(m => m.latency).sort((a, b) => a - b);
                const totalRequests = metrics.length;
                const cacheHits = metrics.filter(m => m.cacheHit).length;
                const errors = metrics.filter(m => m.error).length;

                const stats = {
                    endpoint: metrics[0].endpoint,
                    integration: metrics[0].integration,
                    totalRequests,
                    averageLatency: sortedLatencies.reduce((sum, lat) => sum + lat, 0) / totalRequests,
                    minLatency: sortedLatencies[0],
                    maxLatency: sortedLatencies[sortedLatencies.length - 1],
                    p95Latency: sortedLatencies[Math.floor(totalRequests * 0.95)],
                    p99Latency: sortedLatencies[Math.floor(totalRequests * 0.99)],
                    cacheHitRate: cacheHits / totalRequests,
                    errorRate: errors / totalRequests,
                    lastUpdated: Date.now()
                };

                this.stats.set(key, stats);
            }
        }

        // Initialize components
        const latencyTracker = new LatencyTracker();
        let latencyChart, performanceChart;

        // Initialize charts
        function initializeCharts() {
            // Latency Trends Chart
            const latencyCtx = document.getElementById('latency-chart').getContext('2d');
            latencyChart = new Chart(latencyCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Average Latency (ms)',
                        data: [],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#f3f4f6' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#9ca3af' },
                            grid: { color: '#374151' }
                        },
                        y: {
                            ticks: { color: '#9ca3af' },
                            grid: { color: '#374151' }
                        }
                    }
                }
            });

            // Performance Chart
            const performanceCtx = document.getElementById('performance-chart').getContext('2d');
            performanceChart = new Chart(performanceCtx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Latency (ms)',
                        data: [],
                        backgroundColor: '#3b82f6'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#f3f4f6' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#9ca3af' },
                            grid: { color: '#374151' }
                        },
                        y: {
                            ticks: { color: '#9ca3af' },
                            grid: { color: '#374151' }
                        }
                    }
                }
            });
        }

        // Update dashboard
        function updateDashboard() {
            const dashboardData = latencyTracker.getDashboardData();
            
            // Update summary cards
            document.getElementById('total-requests').textContent = dashboardData.summary.totalRequests.toLocaleString();
            document.getElementById('avg-latency').textContent = Math.round(dashboardData.summary.averageLatency) + 'ms';
            document.getElementById('cache-hit-rate').textContent = Math.round(dashboardData.summary.cacheHitRate * 100) + '%';
            document.getElementById('error-rate').textContent = '0%'; // Calculate from data

            // Update endpoints table
            const tbody = document.getElementById('endpoints-tbody');
            tbody.innerHTML = '';
            
            dashboardData.endpoints.forEach(endpoint => {
                const row = document.createElement('tr');
                row.className = 'endpoint-row border-b border-gray-700';
                
                const latencyColor = ColorSchemeManager.getLatencyColor(endpoint.latency);
                const statusColor = ColorSchemeManager.getStatusColor(endpoint.status);
                
                row.innerHTML = `
                    <td class="py-3 px-4">
                        <div class="text-sm font-mono">${endpoint.endpoint}</div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="text-sm">${endpoint.integration}</div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="flex items-center">
                            <span class="status-indicator status-${endpoint.status}"></span>
                            <span class="text-sm capitalize">${endpoint.status}</span>
                        </div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="flex items-center space-x-2">
                            <div class="latency-bar latency-${endpoint.latency < 100 ? 'fast' : endpoint.latency < 500 ? 'medium' : endpoint.latency < 1000 ? 'slow' : 'critical'}" style="width: ${Math.min(100, endpoint.latency / 10)}px;"></div>
                            <span class="text-sm" style="color: ${latencyColor}">${Math.round(endpoint.latency)}ms</span>
                        </div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="text-sm">${Math.round(endpoint.cacheHitRate * 100)}%</div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="text-sm">${Math.round(endpoint.errorRate * 100)}%</div>
                    </td>
                    <td class="py-3 px-4">
                        <div class="text-sm">${endpoint.requests.toLocaleString()}</div>
                    </td>
                `;
                
                tbody.appendChild(row);
            });

            // Update charts
            updateCharts(dashboardData);
            
            // Update real-time metrics
            updateRealTimeMetrics();
        }

        function updateCharts(dashboardData) {
            // Update latency chart
            const now = new Date().toLocaleTimeString();
            latencyChart.data.labels.push(now);
            latencyChart.data.datasets[0].data.push(dashboardData.summary.averageLatency);
            
            // Keep only last 10 data points
            if (latencyChart.data.labels.length > 10) {
                latencyChart.data.labels.shift();
                latencyChart.data.datasets[0].data.shift();
            }
            
            latencyChart.update();

            // Update performance chart
            performanceChart.data.labels = dashboardData.endpoints.map(e => e.endpoint.substring(0, 20) + '...');
            performanceChart.data.datasets[0].data = dashboardData.endpoints.map(e => e.latency);
            performanceChart.update();
        }

        function updateRealTimeMetrics() {
            const summary = latencyTracker.getPerformanceSummary();
            
            // Update slow endpoints
            const slowEndpointsDiv = document.getElementById('slow-endpoints');
            slowEndpointsDiv.innerHTML = '';
            
            summary.topSlowEndpoints.forEach(endpoint => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between text-sm';
                div.innerHTML = `
                    <span class="text-gray-400">${endpoint.endpoint.substring(0, 30)}...</span>
                    <span style="color: ${ColorSchemeManager.getLatencyColor(endpoint.avgLatency)}">${Math.round(endpoint.avgLatency)}ms</span>
                `;
                slowEndpointsDiv.appendChild(div);
            });

            // Update error endpoints
            const errorEndpointsDiv = document.getElementById('error-endpoints');
            errorEndpointsDiv.innerHTML = '';
            
            summary.topErrorEndpoints.forEach(endpoint => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between text-sm';
                div.innerHTML = `
                    <span class="text-gray-400">${endpoint.endpoint.substring(0, 30)}...</span>
                    <span style="color: ${ColorSchemeManager.getStatusColor('critical')}">${Math.round(endpoint.errorRate * 100)}%</span>
                `;
                errorEndpointsDiv.appendChild(div);
            });

            // Update recent activity
            const recentActivityDiv = document.getElementById('recent-activity');
            recentActivityDiv.innerHTML = '<div class="text-sm text-gray-400">Monitoring active...</div>';
        }

        // Generate sample data
        function generateSampleData() {
            const endpoints = [
                { url: 'https://api.example.com/users', integration: 'user-service' },
                { url: 'https://api.example.com/orders', integration: 'order-service' },
                { url: 'https://api.example.com/products', integration: 'product-service' },
                { url: 'https://api.example.com/payments', integration: 'payment-service' },
                { url: 'https://api.example.com/analytics', integration: 'analytics-service' }
            ];

            endpoints.forEach(endpoint => {
                // Generate random latency data
                for (let i = 0; i < 50; i++) {
                    const latency = Math.random() * 2000; // 0-2000ms
                    const statusCode = Math.random() > 0.95 ? 500 : 200;
                    const cacheHit = Math.random() > 0.7;
                    
                    latencyTracker.recordLatency(
                        endpoint.url,
                        endpoint.integration,
                        latency,
                        statusCode,
                        cacheHit,
                        statusCode === 500 ? 'Internal Server Error' : undefined
                    );
                }
            });
        }

        // Event listeners
        document.getElementById('refresh-btn').addEventListener('click', () => {
            updateDashboard();
        });

        document.getElementById('clear-cache-btn').addEventListener('click', () => {
            latencyTracker.clearAllCache();
            updateDashboard();
        });

        document.getElementById('export-metrics-btn').addEventListener('click', () => {
            const data = JSON.stringify(latencyTracker.getPerformanceSummary(), null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'latency-metrics.json';
            a.click();
        });

        document.getElementById('theme-selector').addEventListener('change', (e) => {
            ColorSchemeManager.setScheme(e.target.value);
            updateDashboard();
        });

        // Initialize
        initializeCharts();
        generateSampleData();
        updateDashboard();
        ColorSchemeManager.applyTheme();

        // Auto-refresh every 5 seconds
        setInterval(() => {
            // Generate some new sample data
            const endpoints = [
                { url: 'https://api.example.com/users', integration: 'user-service' },
                { url: 'https://api.example.com/orders', integration: 'order-service' }
            ];

            endpoints.forEach(endpoint => {
                const latency = Math.random() * 2000;
                const statusCode = Math.random() > 0.95 ? 500 : 200;
                const cacheHit = Math.random() > 0.7;
                
                latencyTracker.recordLatency(
                    endpoint.url,
                    endpoint.integration,
                    latency,
                    statusCode,
                    cacheHit,
                    statusCode === 500 ? 'Internal Server Error' : undefined
                );
            });

            updateDashboard();
        }, 5000);
    </script>
</body>
</html>
