{
  "domain": "factory-wager.com",
  "records": [
    {
      "type": "A",
      "name": "factory-wager.com",
      "content": "192.0.2.1",
      "ttl": 300,
      "priority": null,
      "notes": "Main domain A record pointing to production server",
      "proxied": true,
      "ssl": "full"
    },
    {
      "type": "CNAME",
      "name": "monitor.factory-wager.com",
      "content": "global-qr-dashboard.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "Main dashboard and monitoring interface",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsIncludeSubdomains": true,
        "hstsMaxAge": 31536000,
        "hstsPreload": true
      }
    },
    {
      "type": "CNAME",
      "name": "api.factory-wager.com",
      "content": "global-qr-api.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "REST API endpoints for QR generation and validation",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsIncludeSubdomains": true,
        "hstsMaxAge": 31536000,
        "cors": {
          "allowedOrigins": ["https://monitor.factory-wager.com", "https://factory-wager.com"],
          "allowedMethods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
          "allowedHeaders": ["Content-Type", "Authorization", "X-Merchant-ID"],
          "maxAge": 86400
        }
      }
    },
    {
      "type": "CNAME",
      "name": "ws.factory-wager.com",
      "content": "global-qr-websocket.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "WebSocket connections for real-time dashboard updates",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsMaxAge": 31536000
      }
    },
    {
      "type": "CNAME",
      "name": "qr.factory-wager.com",
      "content": "global-qr-service.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "QR code generation and device onboarding service",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsMaxAge": 31536000
      }
    },
    {
      "type": "CNAME",
      "name": "auth.factory-wager.com",
      "content": "global-qr-auth.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "Authentication and token management service",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsMaxAge": 31536000,
        "cors": {
          "allowedOrigins": ["https://monitor.factory-wager.com", "https://factory-wager.com"],
          "allowedMethods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
          "allowedHeaders": ["Content-Type", "Authorization", "X-Merchant-ID"],
          "maxAge": 86400
        }
      }
    },
    {
      "type": "CNAME",
      "name": "analytics.factory-wager.com",
      "content": "global-qr-analytics.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "Analytics and ROI tracking service",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsMaxAge": 31536000
      }
    },
    {
      "type": "CNAME",
      "name": "status.factory-wager.com",
      "content": "global-qr-status.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "System status and health monitoring page",
      "proxied": true,
      "ssl": "full"
    },
    {
      "type": "CNAME",
      "name": "admin.factory-wager.com",
      "content": "global-qr-admin.production.factory-wager.com",
      "ttl": 300,
      "priority": null,
      "notes": "Administrative interface for system management",
      "proxied": true,
      "ssl": "full",
      "security": {
        "hsts": true,
        "hstsMaxAge": 31536000,
        "ipWhitelist": ["192.168.1.0/24", "10.0.0.0/8"]
      }
    }
  ],
  "geoRouting": {
    "enabled": true,
    "regions": {
      "north-america": {
        "countries": ["US", "CA", "MX"],
        "primaryEndpoint": "us-east-1.factory-wager.com",
        "failoverEndpoint": "us-west-2.factory-wager.com",
        "latencyThreshold": 150,
        "healthCheck": "/health"
      },
      "europe": {
        "countries": ["GB", "DE", "FR", "IT", "ES", "NL", "BE", "AT", "CH"],
        "primaryEndpoint": "eu-west-2.factory-wager.com",
        "failoverEndpoint": "eu-central-1.factory-wager.com",
        "latencyThreshold": 100,
        "healthCheck": "/health"
      },
      "asia-pacific": {
        "countries": ["JP", "SG", "AU", "IN", "KR", "TH", "MY", "PH"],
        "primaryEndpoint": "ap-southeast-1.factory-wager.com",
        "failoverEndpoint": "ap-northeast-1.factory-wager.com",
        "latencyThreshold": 200,
        "healthCheck": "/health"
      },
      "latin-america": {
        "countries": ["BR", "AR", "CL", "CO", "PE", "MX", "VE"],
        "primaryEndpoint": "sa-east-1.factory-wager.com",
        "failoverEndpoint": "us-east-1.factory-wager.com",
        "latencyThreshold": 250,
        "healthCheck": "/health"
      }
    }
  },
  "loadBalancing": {
    "algorithm": "weighted_round_robin",
    "healthChecks": {
      "enabled": true,
      "path": "/health",
      "interval": 30,
      "timeout": 5,
      "retries": 3,
      "expectedStatus": [200, 204]
    },
    "stickySessions": {
      "enabled": true,
      "duration": 3600,
      "cookieName": "qr_session_affinity"
    },
    "weights": {
      "us-east-1": 40,
      "eu-west-2": 30,
      "ap-southeast-1": 20,
      "sa-east-1": 10
    }
  },
  "cloudflare": {
    "proxied": true,
    "ssl": "full",
    "security_level": "high",
    "cache_level": "aggressive",
    "minify": {
      "html": true,
      "css": true,
      "js": true
    },
    "rocketLoader": true,
    "brotli": true,
    "earlyHints": true,
    "http2": true,
    "http3": true,
    "pseudoIpv4": true,
    "websockets": true,
    "originErrorPagePassthru": false
  },
  "security": {
    "dnssec": {
      "enabled": true,
      "algorithm": "ECDSAP256SHA256",
      "keyTag": 12345
    },
    "firewall": {
      "enabled": true,
      "rules": [
        {
          "name": "Block malicious IPs",
          "action": "block",
          "filter": {
            "ip": {
              "in": ["192.0.2.0/24", "203.0.113.0/24"]
            }
          }
        },
        {
          "name": "Rate limit API endpoints",
          "action": "throttle",
          "filter": {
            "path": {
              "in": ["/api/*"]
            }
          },
          "rateLimit": {
            "requests": 100,
            "period": 60
          }
        },
        {
          "name": "Protect QR generation",
          "action": "challenge",
          "filter": {
            "and": [
              {
                "path": {
                  "in": ["/api/qr/generate", "/qr/generate"]
                }
              },
              {
                "http.request.headers": {
                  "authorization": {
                    "absent": true
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "botManagement": {
      "enabled": true,
      "fightMode": true,
      "scoreThreshold": 30
    },
    "waf": {
      "enabled": true,
      "ruleset": "OWASP ModSecurity Core Rule Set",
      "customRules": [
        {
          "name": "Block SQL Injection",
          "expression": "http.request.uri.query contains \"union\" and http.request.uri.query contains \"select\"",
          "action": "block"
        },
        {
          "name": "Block XSS Attempts",
          "expression": "http.request.uri.query contains \"<script\"",
          "action": "block"
        }
      ]
    }
  },
  "monitoring": {
    "enabled": true,
    "alerts": {
      "dnsDowntime": {
        "enabled": true,
        "threshold": 60,
        "recipients": ["ops@factory-wager.com", "sre@factory-wager.com"]
      },
      "highLatency": {
        "enabled": true,
        "threshold": 500,
        "recipients": ["ops@factory-wager.com", "sre@factory-wager.com", "performance@factory-wager.com"]
      },
      "sslExpiry": {
        "enabled": true,
        "threshold": 30,
        "recipients": ["security@factory-wager.com", "ops@factory-wager.com"]
      },
      "trafficSpike": {
        "enabled": true,
        "threshold": 1000,
        "period": 300,
        "recipients": ["ops@factory-wager.com", "security@factory-wager.com"]
      }
    },
    "analytics": {
      "enabled": true,
      "retention": 365,
      "export": {
        "s3": {
          "enabled": true,
          "bucket": "factory-wager-dns-logs",
          "prefix": "cloudflare-logs/"
        }
      }
    }
  },
  "edgeFunctions": {
    "enabled": true,
    "functions": [
      {
        "name": "qr-auth-validator",
        "pattern": "*/api/qr/*",
        "purpose": "Validate JWT tokens for QR operations"
      },
      {
        "name": "geo-redirector",
        "pattern": "*",
        "purpose": "Redirect users to nearest regional endpoint"
      },
      {
        "name": "rate-limiter",
        "pattern": "*/api/*",
        "purpose": "Implement rate limiting per merchant"
      },
      {
        "name": "cors-handler",
        "pattern": "*/api/*",
        "purpose": "Handle CORS headers for API endpoints"
      }
    ]
  }
}