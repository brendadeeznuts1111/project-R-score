# Project-Topic Integration Configuration
# Maps local projects and repos to Telegram topics/channels

projects:
  # Local project: nolarose-mcp-config (this repo)
  nolarose-mcp-config:
    path: "/Users/nolarose"
    repo: "github.com/brendadeeznuts1111/matrix-analysis"
    default_topic: 7  # Development
    topics:
      1: # General
        - "status:*"
        - "health:*"
        - "info:*"
      2: # Alerts
        - "error:*"
        - "fail:*"
        - "critical:*"
      5: # Logs
        - "log:*"
        - "metric:*"
        - "benchmark:*"
      7: # Development
        - "feat:*"
        - "fix:*"
        - "refactor:*"
        - "commit:*"
    channels:
      ci-cd:
        topic: 2
        patterns: ["CI/CD", "deploy", "build"]
      code-review:
        topic: 7
        patterns: ["PR", "review", "merge"]
    notifications:
      on_push: true
      on_pr: true
      on_issue: true
      on_release: true
    
  # OpenClaw project
  openclaw:
    path: "/Users/nolarose/openclaw"
    repo: "github.com/openclaw/openclaw"
    default_topic: 1
    topics:
      1: ["status", "info", "question"]
      2: ["error", "bug", "critical"]
      5: ["log", "metric", "performance"]
      7: ["feature", "dev", "code"]
    channels:
      releases:
        topic: 1
        patterns: ["release", "version", "tag"]
    notifications:
      on_release: true

  # Matrix Agent project
  matrix-agent:
    path: "/Users/nolarose/matrix-agent"
    default_topic: 7
    topics:
      1: ["agent:status", "agent:info"]
      2: ["agent:error", "agent:fail"]
      5: ["agent:log", "agent:metric"]
      7: ["agent:dev", "agent:code"]
    notifications:
      on_health_check: true

# Topic Groups for Projects
groups:
  core-projects:
    name: "Core Projects"
    projects:
      - nolarose-mcp-config
      - matrix-agent
    topics: [1, 2, 7]
    
  external-deps:
    name: "External Dependencies"
    projects:
      - openclaw
    topics: [1, 2]
    
  all-projects:
    name: "All Projects"
    projects:
      - nolarose-mcp-config
      - matrix-agent
      - openclaw
    topics: [1, 2, 5, 7]

# Repository Integrations
repositories:
  github.com/brendadeeznuts1111/matrix-analysis:
    project: nolarose-mcp-config
    webhooks:
      push:
        topic: 7
        message: "üöÄ Push to {branch} by {author}"
      pull_request:
        opened:
          topic: 7
          message: "üìã PR opened: {title}"
        merged:
          topic: 1
          message: "‚úÖ PR merged: {title}"
      issues:
        opened:
          topic: 2
          message: "üêõ Issue opened: {title}"
        closed:
          topic: 1
          message: "‚úì Issue resolved: {title}"
      release:
        published:
          topic: 1
          message: "üéâ Release {version} published!"

# Channel Routing Rules
routing:
  # Auto-route based on file changes
  file_patterns:
    "*.ts": 7  # Development
    "*.test.ts": 7
    "*.md": 1  # General
    "*.yaml": 5  # Logs/Config
    "*.json": 5
    
  # Auto-route based on commit message
  commit_patterns:
    "^feat": 7
    "^fix": 2  # Alerts (for bugs)
    "^docs": 1
    "^refactor": 7
    "^test": 7
    "^chore": 5  # Logs
    "^perf": 5  # Logs/Metrics

# Notification Settings per Project
notifications:
  default:
    push: true
    pr: true
    issues: true
    releases: true
    
  quiet:
    push: false
    pr: true
    issues: true
    releases: true
    
  silent:
    push: false
    pr: false
    issues: false
    releases: true
