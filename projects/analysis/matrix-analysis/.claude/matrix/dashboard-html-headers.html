<!--
  Tier-1380 OMEGA: Matrix Dashboard HTML Headers
  Preconnect, DNS-Prefetch, and Resource Hints
  
  Include these in <head> of all matrix dashboard pages
-->

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- PRECONNECT: Critical Origins -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<!-- Matrix API (high priority) -->
<link rel="preconnect" href="https://matrix.factory-wager.com" crossorigin>
<link rel="dns-prefetch" href="https://matrix.factory-wager.com">

<!-- Bun API Catalog -->
<link rel="preconnect" href="https://api.factory-wager.com" crossorigin>
<link rel="dns-prefetch" href="https://api.factory-wager.com">

<!-- Profile Storage -->
<link rel="preconnect" href="https://profiles.factory-wager.com" crossorigin>
<link rel="dns-prefetch" href="https://profiles.factory-wager.com">

<!-- CDN for static assets -->
<link rel="preconnect" href="https://cdn.factory-wager.com" crossorigin>
<link rel="dns-prefetch" href="https://cdn.factory-wager.com">

<!-- Cloudflare Dashboard (for column 30 profile links) -->
<link rel="preconnect" href="https://dash.cloudflare.com" crossorigin>
<link rel="dns-prefetch" href="https://dash.cloudflare.com">

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- DNS-PREFETCH: External Resources -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
<link rel="dns-prefetch" href="https://unpkg.com">

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- PRELOAD: Critical Resources (Grid View) -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<!-- Critical CSS -->
<link rel="preload" href="/static/matrix-styles.css" as="style">
<link rel="preload" href="/static/zone-colors.css" as="style">

<!-- Critical JS -->
<link rel="preload" href="/static/matrix-grid.js" as="script">

<!-- Font (if using web fonts) -->
<link rel="preload" href="/static/fonts/inter-var.woff2" as="font" type="font/woff2" crossorigin>

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- PREFETCH: Next Likely Navigation -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<!-- If on main grid, prefetch zone views -->
<link rel="prefetch" href="/zone/tension">
<link rel="prefetch" href="/zone/cloudflare">
<link rel="prefetch" href="/zone/validation">

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- META: Performance -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<!-- Disable automatic telephone detection (performance) -->
<meta name="format-detection" content="telephone=no">

<!-- Theme color for browser chrome -->
<meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- HTTP HEADERS (set via Cloudflare) -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<!--
  These should be set as HTTP headers via Cloudflare page rules:
  
  Link: <https://matrix.factory-wager.com>; rel=preconnect
  Link: <https://cdn.factory-wager.com>; rel=preconnect
  Link: <https://api.factory-wager.com>; rel=preconnect
  
  X-DNS-Prefetch-Control: on
  
  Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
-->

<!-- ═══════════════════════════════════════════════════════════════════════ -->
<!-- SERVICE WORKER REGISTRATION -->
<!-- ═══════════════════════════════════════════════════════════════════════ -->

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw-matrix.js')
      .then(reg => console.log('Matrix SW registered:', reg))
      .catch(err => console.log('Matrix SW failed:', err));
  }
</script>
