# Current Code Structure - ASCII Diagram

## ğŸ“ Current Repository Structure

```
foxy-proxy/
â”œâ”€â”€ ğŸ“„ package.json                 # Monorepo root config
â”œâ”€â”€ ğŸ“„ bun.lock                     # Dependency lock file
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScript config
â”œâ”€â”€ ğŸ“ packages/
â”‚   â””â”€â”€ ğŸ“ dashboard/               # Main React app
â”‚       â”œâ”€â”€ ğŸ“„ package.json         # App dependencies
â”‚       â”œâ”€â”€ ğŸ“„ vite.config.ts       # Build config
â”‚       â”œâ”€â”€ ğŸ“„ vitest.config.ts     # Test config
â”‚       â””â”€â”€ ğŸ“ src/
â”‚           â”œâ”€â”€ ğŸ“„ App.tsx          # Root component
â”‚           â”œâ”€â”€ ğŸ“„ main.tsx         # Entry point
â”‚           â”œâ”€â”€ ğŸ“„ index.css        # Global styles
â”‚           â”œâ”€â”€ ğŸ“ components/      # UI components
â”‚           â”‚   â”œâ”€â”€ ğŸ“ layout/      # Layout components
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DashboardLayout.tsx
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Header.tsx
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ“„ Sidebar.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ BunFileUpload.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ FileUpload.tsx
â”‚           â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”œâ”€â”€ ğŸ“ pages/           # Page components
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ OverviewPage.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ ProxiesPage.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ AnalyticsPage.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ DuoPlusPage.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ UnifiedManagementPage.tsx
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ SettingsPage.tsx
â”‚           â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”œâ”€â”€ ğŸ“ hooks/           # Custom React hooks
â”‚           â”‚   â””â”€â”€ ğŸ“„ useProxyData/
â”‚           â”‚       â””â”€â”€ ğŸ“„ index.ts
â”‚           â”œâ”€â”€ ğŸ“ utils/           # Business logic
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ api.ts       # IPFoxy API client
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ errors.ts    # Error handling
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ mockData.ts  # Mock data
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ wranglerAuth.ts
â”‚           â”‚   â”œâ”€â”€ ğŸ“ constants/   # API constants
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api.ts
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ“„ r2.ts
â”‚           â”‚   â”œâ”€â”€ ğŸ“ duoplus/     # DuoPlus API
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ duoplus.ts
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”‚   â”œâ”€â”€ ğŸ“ unified/     # Unified profiles
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ manager.ts
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ types.ts
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”‚   â”œâ”€â”€ ğŸ“ r2/          # Storage clients
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ base.ts
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ aws-client.ts
â”‚           â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bun-client.ts
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â”œâ”€â”€ ğŸ“ types/           # TypeScript definitions
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ proxy.ts
â”‚           â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚           â””â”€â”€ ğŸ“ test/            # Test files
â”‚               â”œâ”€â”€ ğŸ“„ setup.ts
â”‚               â”œâ”€â”€ ğŸ“ unit/
â”‚               â””â”€â”€ ğŸ“ integration/
â”œâ”€â”€ ğŸ“ scripts/                    # Build/setup scripts
â”œâ”€â”€ ğŸ“ examples/                   # Usage examples
â””â”€â”€ ğŸ“ setup/                      # Setup documentation
```

## ğŸ—ï¸ Current Architecture Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APP LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  App.tsx                                                   â”‚
â”‚  â””â”€â”                                                       â”‚
â”‚    â”‚                                                       â”‚
â”‚    â–¼                                                       â”‚
â”‚  DashboardLayout.tsx                                       â”‚
â”‚  â”œâ”€ Header.tsx                                            â”‚
â”‚  â”œâ”€ Sidebar.tsx                                           â”‚
â”‚  â””â”€â”                                                       â”‚
â”‚    â”‚                                                       â”‚
â”‚    â–¼                                                       â”‚
â”‚  React Router Routes â†’ Pages                              â”‚
â”‚  â”œâ”€ OverviewPage.tsx                                      â”‚
â”‚  â”œâ”€ ProxiesPage.tsx                                       â”‚
â”‚  â”œâ”€ AnalyticsPage.tsx                                     â”‚
â”‚  â”œâ”€ DuoPlusPage.tsx                                       â”‚
â”‚  â”œâ”€ UnifiedManagementPage.tsx                             â”‚
â”‚  â””â”€ SettingsPage.tsx                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   useProxyData  â”‚  â”‚   DuoPlusAPI    â”‚  â”‚ UnifiedMgr   â”‚ â”‚
â”‚  â”‚     Hook        â”‚  â”‚                 â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                    â”‚                   â”‚       â”‚
â”‚            â–¼                    â–¼                   â–¼       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   IPFoxyAPI     â”‚  â”‚   DuoPlus API   â”‚  â”‚ Local State  â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚ + Storage    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  UTILITY LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Errors    â”‚  â”‚     R2       â”‚  â”‚   Constants         â”‚ â”‚
â”‚  â”‚  Handling   â”‚  â”‚   Storage    â”‚  â”‚                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Current Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Pages      â”‚    â”‚   Hooks/API     â”‚    â”‚  Data Sources   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OverviewPage    â”‚â”€â”€â”€â–¶â”‚ useProxyData    â”‚â”€â”€â”€â–¶â”‚ IPFoxy API      â”‚
â”‚ ProxiesPage     â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ AnalyticsPage   â”‚    â”‚ DuoPlusAPI      â”‚â”€â”€â”€â–¶â”‚ DuoPlus API     â”‚
â”‚ DuoPlusPage     â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ UnifiedMgmtPage â”‚â”€â”€â”€â–¶â”‚ UnifiedProfile  â”‚â”€â”€â”€â–¶â”‚ Local Storage   â”‚
â”‚ SettingsPage    â”‚    â”‚ Manager         â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Current Component Dependencies

```
Pages
â”œâ”€â”€ useProxyData Hook
â”‚   â”œâ”€â”€ IPFoxyAPI
â”‚   â””â”€â”€ mockData
â”œâ”€â”€ DuoPlusAPI
â”‚   â””â”€â”€ HTTP Client
â””â”€â”€ UnifiedProfileManager
    â”œâ”€â”€ Local Storage
    â””â”€â”€ Template System

Components
â”œâ”€â”€ Layout Components
â”‚   â””â”€â”€ Basic UI Elements
â”œâ”€â”€ File Upload Components
â”‚   â””â”€â”€ R2 Storage Clients
â”‚       â”œâ”€â”€ AWS SDK Client
â”‚       â””â”€â”€ Bun Native Client
â””â”€â”

Utils
â”œâ”€â”€ Error Handling
â”œâ”€â”€ Constants Management
â””â”€â”€ Type Definitions
```

## ğŸ¯ Current Strengths

âœ… **Monorepo Structure** - Scalable package organization  
âœ… **TypeScript Strict Mode** - Full type safety  
âœ… **Component Separation** - Clear UI boundaries  
âœ… **API Abstraction** - Clean data layer  
âœ… **Unified System** - Innovative proxy-phone profiles  
âœ… **Testing Setup** - Comprehensive test framework

## âš ï¸ Current Issues

ğŸ”¸ **Deep Nesting** - Many subdirectories  
ğŸ”¸ **Scattered Utils** - Logic spread across multiple files  
ğŸ”¸ **Mixed Concerns** - Some components handle business logic  
ğŸ”¸ **Complex Imports** - Deep import paths  
ğŸ”¸ **Duplicate Patterns** - Similar code in multiple places
