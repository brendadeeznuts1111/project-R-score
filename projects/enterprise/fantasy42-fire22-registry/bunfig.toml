# Fire22 Enterprise System - Bun Configuration
# Simplified and optimized for seamless development

# Runtime configuration
preload = ["./scripts/preload.ts"]
logLevel = "warn"

# JSX configuration
jsx = "react"
jsxFactory = "React.createElement"
jsxFragment = "React.Fragment"

# Environment constants
[define]
"process.env.NODE_ENV" = "'development'"
"process.env.FIRE22_ENV" = "'enterprise'"
"__DEV__" = "true"

# File loaders
[loader]
".fire22" = "ts"
".enterprise" = "tsx"

# Console configuration (Bun 1.1.x --console-depth support)
[console]
depth = 4

# Run configuration with new Bun 1.1.x features
[run]
# Use Bun's shell for consistent behavior across platforms
shell = "bun"
# Auto-alias node to bun for seamless migration
bun = true
# Suppress command reporting for cleaner CI/CD output
silent = false
# Enable new console depth configuration
console.depth = 4

# Disable telemetry
telemetry = false

# Test configuration
[test]
root = "."
coverage = true
coverageReporter = ["text", "lcov"]
coverageDir = "./coverage"
# Test file patterns
patterns = ["**/*.test.ts", "**/*.spec.ts", "**/__tests__/**/*.ts", "testing/**/*.test.ts", "testing/**/*.spec.ts"]
# Timeout for tests (milliseconds)
timeout = 10000
# Enable parallel test execution
parallel = true
# Number of parallel workers
workers = 4

[install]
exact = true
# Core registry configuration - using standard npm registry
registry = "https://npm.factory-wager.com"

# Installation behavior - standard defaults
dev = true
optional = true
peer = true
production = false

# Dependency version management
exact = false                    # Use caret ranges (^) for flexibility
frozenLockfile = false          # Allow lockfile updates in development
dryRun = false                  # Perform actual installations

# Lockfile and workspace configuration
saveTextLockfile = true         # Human-readable lockfiles for collaboration
linkWorkspacePackages = true    # Enable monorepo workspace linking
linker = "isolated"             # Strict dependency isolation for security

# Auto-install behavior
auto = "auto"                   # Smart auto-install for development

# Global package management - Enhanced SportsBet Configuration
globalDir = "~/.bun/install/global"
globalBinDir = "~/.bun/bin"
# Global package security level
globalAuditLevel = "high"
# Global package cache optimization
globalCacheStrategy = "aggressive"
# Global registry user agent
globalUserAgent = "SportsBet-Registry/5.1.0"

# Networking & Performance Configuration
# Enterprise-grade networking for Fantasy42-Fire22 registry

# Network concurrency for high-performance package downloads
networkConcurrency = 48          # Maximum concurrent network requests (default)

# Certificate Authority configuration for enterprise security
# ca = "/path/to/ca-cert.pem"    # Certificate Authority signing certificate
# cafile = "/path/to/ca-cert.pem" # Same as ca, but file path
# For production, configure with valid certificates:
# cafile = "/etc/ssl/certs/fire22-ca.pem"  # Enterprise CA certificate

# Script concurrency for lifecycle management
concurrentScripts = 5            # Maximum concurrent jobs for lifecycle scripts

# Advanced networking timeouts and retries
networkTimeout = 30000           # Network timeout in milliseconds (30s)
networkRetries = 3               # Number of retry attempts for failed requests
networkRetryDelay = 1000         # Delay between retries in milliseconds

# Connection pooling for enterprise performance
maxConnectionsPerHost = 8        # Maximum connections per host
keepAliveTimeout = 30000         # Keep-alive timeout in milliseconds

# DNS and proxy configuration
dnsCache = true                  # Enable DNS caching for faster resolution
dnsTtl = 300                     # DNS cache TTL in seconds (5 minutes)
# proxy = "http://proxy.fire22.com:8080"  # Proxy configuration (uncomment if needed)

# Private registry scopes with authentication (no trailing spaces)
[install.scopes]
"@factorywager" = { token = "$FW_REGISTRY_TOKEN", url = "https://npm.factory-wager.com/" }
"@duoplus" = { token = "$FW_REGISTRY_TOKEN", url = "https://npm.factory-wager.com/" }
"@fire22" = { url = "$FIRE22_REGISTRY_URL", token = "$FIRE22_REGISTRY_TOKEN" }
"@enterprise" = { url = "$FIRE22_ENTERPRISE_REGISTRY_URL", token = "$FIRE22_ENTERPRISE_TOKEN" }
"@private" = { url = "$FIRE22_PRIVATE_REGISTRY_URL", username = "$FIRE22_PRIVATE_USER", password = "$FIRE22_PRIVATE_PASS" }
# SportsBet private registry - Enhanced with full integration
sportsbet = { 
  url = "https://registry.sportsbet.com/", 
  token = "$SPORTSBET_REGISTRY_TOKEN",
  userAgent = "SportsBet-Client/5.1.0",
  security = { auditLevel = "critical", compliance = ["GDPR", "PCI-DSS", "SOC2"] },
  cache = { enabled = true, ttl = 3600, sharedWithGlobal = true },
  priority = 1,  # Priority for package resolution (1 = highest)
  bunx = { enabled = true, defaultScope = "@sportsbet-registry" }
}
# Additional SportsBet development registry
"sportsbet-dev" = {
  url = "https://dev.registry.sportsbet.com/",
  token = "$SPORTSBET_DEV_TOKEN",
  userAgent = "SportsBet-Dev/5.1.0",
  priority = 2
}

# Security scanning for packages (disabled for now to avoid scanner issues)
# [install.security]
# scanner = "@sportsbet-registry/security-scanner"
# config = {
#   audit_level = "high",
#   auto_fix = false,
#   compliance_check = true
# }

# Security: Only trust essential build tools and testing frameworks
[install.trustedDependencies]
esbuild = "*"           # Our bundler - trust all versions
vite = "^5.0.0"         # Development server - trust v5.x.x
playwright-core = "*"   # Testing framework - trust all versions
typescript = "^5.0.0"   # TypeScript compiler - trust v5.x.x

# Installation behavior
optional = true                     # Include optional dependencies
production = false                  # Include dev dependencies for development
frozenLockfile = false              # Allow lockfile updates in development

# Global package cache settings - Optimized for SportsBet
[install.cache]
dir = "~/.bun/install/cache"
disable = false
disableManifest = false
# Cache optimization for global packages
maxSize = "2GB"
compressionLevel = 6
# Cache retention for global packages
retentionDays = 30
# Intelligent cache invalidation
intelligentInvalidation = true

# Lockfile configuration
[install.lockfile]
save = true

# External Security Tools Configuration
# Note: Bun does not have native security scanning capabilities.
# Security scanning is handled by external tools:
# - Snyk: .snyk configuration file
# - License Checker: .licenserc.json configuration file
# - Bun Audit: Native dependency vulnerability scanning
#
# Run security scans with: bun run security:audit

# Run configuration for enterprise script execution
[run]

# Version Management Configuration
[version]
# Fire22 follows semantic versioning with Bun's enhanced conventions
# Format: MAJOR.MINOR.PATCH[-PRERELEASE][+BUILD]
# Example: 2.0.3-architecture+20241219

# Version bump strategies
major = ["BREAKING CHANGES", "major"]
minor = ["feat", "minor"]
patch = ["fix", "perf", "docs", "style", "refactor", "test", "build", "ci", "chore", "revert"]

# Pre-release identifiers for different environments
prerelease = ["alpha", "beta", "rc", "architecture", "testing", "development"]

# Build metadata for CI/CD tracking
build = ["timestamp", "commit", "pipeline"]

# Domain-specific versioning
[version.domains]
collections = "5.1.0"
balance = "5.1.0"
wager = "5.1.0"
settlement = "5.1.0-testing"
vip = "5.1.0"
user-management = "5.1.0"
fantasy42 = "5.1.0"
telegram = "5.1.0"
dashboard = "5.1.0"
health-monitoring = "5.1.0"
security = "5.1.0"
database = "5.1.0"

# Architecture versioning
[version.architecture]
domain-architecture = "5.1.0"
system-blueprint = "5.1.0"
technical-overview = "5.1.0"

# Release channels
[version.channels]
stable = "latest"
testing = "testing"
development = "dev"
architecture = "architecture"

# Dependencies version constraints
[version.dependencies]
bun = "^1.0.0"
typescript = "^5.0.0"
semver = "^7.0.0"

# Version validation rules
[version.validation]
require-changelog = true
require-tests = true
require-documentation = true
enforce-semantic-commits = true

# Test configuration for consistent timezone behavior
# Consolidated test configuration above

# Version automation
[version.automation]
auto-tag = true
auto-changelog = true
auto-release-notes = true
github-releases = true

# Path aliases for module resolution
[resolve.aliases]
"@ff" = "./"
"@ff/*" = "./*"
"@/*" = "./src/*"
"@/domains/*" = "./src/domains/*"
"@/shared/*" = "./src/shared/*"
"@/collections/*" = "./src/collections/*"
"@/interfaces/*" = "./src/interfaces/*"
"@/application/*" = "./src/application/*"

# Version metadata
[version.metadata]
organization = "Fire22"
project = "Enterprise System"
architecture = "Domain-Driven Design"
runtime = "Bun v1.x"
framework = "Crystal Clear Architecture"

# Dashboard Configuration
[dashboard]
# Enable dashboard serving in development
serve_dashboard = true
# Dashboard entry point
entry_point = "crystal-clear-architecture/dashboard.html"
# Development server port for dashboard
dev_port = 3001
# Hot reload for dashboard changes
hot_reload = true
# Enable dashboard API routes
enable_api_routes = true

# Dashboard Build Configuration
[dashboard.build]
# Output directory for built dashboard
output_dir = "dist/dashboard"
# Minify dashboard for production
minify = true
# Enable source maps for debugging
sourcemap = true
# Bundle all dashboard assets
bundle = true
# Target environment
target = "browser"

# Dashboard Development Server
[dashboard.dev]
# Enable live reload
live_reload = true
# Enable console logging from browser to terminal
console_bridge = true
# Enable error overlay
error_overlay = true
# CORS settings for API calls
cors = { enabled = true, origins = ["*"] }
# WebSocket port for hot reload
websocket_port = 3002

# Dashboard Routes Configuration
[dashboard.routes]
# Main dashboard route
"/dashboard" = "crystal-clear-architecture/dashboard.html"
# API routes for dashboard data
"/api/dashboard/*" = "src/api/dashboard-integration.ts"
# Static assets
"/assets/*" = "crystal-clear-architecture/assets/*"

# Dashboard Plugins
[dashboard.plugins]
# Enable TailwindCSS processing
tailwind = true
# Enable Chart.js bundling
chartjs = true
# Enable Alpine.js optimization
alpine = true
# Enable font awesome icons
fontawesome = true

# Dashboard Environment Variables
[dashboard.env]
# Dashboard version
DASHBOARD_VERSION = "5.1.0"
# API endpoints
DASHBOARD_API_URL = "https://dashboard-worker.brendawill2233.workers.dev/api"
FANTASY402_API_URL = "https://api.fantasy402.com/v2"
FANTASY402_WEBSOCKET_URL = "wss://ws.fantasy402.com/v2"
# Real-time update interval (seconds)
UPDATE_INTERVAL = "5"
# Theme configuration
THEME_MODE = "dark"
# Brand colors
PRIMARY_COLOR = "#DC2626"
SECONDARY_COLOR = "#EA580C"
ACCENT_COLOR = "#CA8A04"
# Fantasy402 integration
FANTASY402_ENABLED = "true"
FANTASY402_VERSION = "5.1.0"
FANTASY402_TIMEOUT = "30000"

# ðŸ”§ Serve Configuration (Development Server)
[serve]
# Enable development server features
development = true
# Port for development server
port = 3000
# Hostname for development server
hostname = "localhost"
# Enable hot module reloading
hmr = true
# Enable console logging from browser to terminal
console = true
# Enable error overlay in browser
error_overlay = true
# CORS settings for API development
cors = { enabled = true, origins = ["*"] }

# ðŸ“¦ Bundle Configuration (Build System)
[bundle]
# Target environment for bundling
target = "browser"
# Output format
format = "esm"
# Enable minification
minify = { whitespace = true, identifiers = false, syntax = true }
# Enable source maps for debugging
sourcemap = "linked"
# External dependencies to exclude from bundle
external = ["node:*", "bun:*"]
# Code splitting strategy
splitting = true
# Enable tree shaking
tree_shaking = true
# Bundle analysis
analyze = true

# ðŸŽ¨ CSS Configuration
[css]
# Enable CSS modules
modules = true
# PostCSS configuration
postcss = true
# CSS minification
minify = true
# Enable CSS source maps
sourcemap = true
# Tailwind CSS configuration
tailwind = { enabled = true, config = "tailwind.config.js" }

# ðŸ“± Plugin Configuration
[plugins]
# Tailwind CSS plugin
"bun-plugin-tailwind" = { enabled = true }
# CSS optimization plugins
"postcss-preset-env" = { enabled = true, stage = 0 }
# Image optimization
"bun-plugin-imagemin" = { enabled = true, quality = 80 }

# ðŸ§© Macro Configuration
[macro]
# Enable JSX macros
jsx = true
# Custom macro definitions
FIRE22_ENV = "'production'"
BUILD_TIME = "new Date().toISOString()"
VERSION = "require('./package.json').version"

# ðŸ”„ Transpiler Configuration
[transpiler]
# TypeScript configuration
typescript = { target = "es2020", module = "esm" }
# JSX configuration
jsx = { pragma = "React.createElement", pragmaFrag = "React.Fragment" }
# JavaScript features to enable
features = ["async-await", "optional-chaining", "nullish-coalescing"]
# Enable experimental features
experimental = { decorators = true, classFields = true }

# ðŸ“¦ BunX Package Manager Configuration - Enhanced for SportsBet Integration
[bunx]
# Enable enhanced bunx features
enhanced_mode = true
# Package registry configuration - SportsBet priority
registry = "https://registry.npmjs.org"
# Registry fallback chain for resilience
registry_fallback = [
  "https://registry.sportsbet.com/",
  "https://registry.npmjs.org",
  "https://registry.yarnpkg.com"
]
# Default package scope for enterprise
default_scope = "@fire22"
# Secondary scopes for automatic resolution
secondary_scopes = ["@sportsbet-registry", "@enterprise"]
# Cache configuration - Unified with global
cache_enabled = true
cache_dir = "~/.bun/bunx/cache"
# Share cache with global packages for efficiency
share_global_cache = true
# Auto-install missing packages from private registry first
auto_install = true
auto_install_registry_priority = ["sportsbet", "fire22", "npm"]
# Verbose output
verbose = false
# Timeout for package operations
timeout_seconds = 30
# Maximum concurrent downloads
max_concurrent = 8
# User agent for BunX operations
user_agent = "SportsBet-BunX/5.1.0"
# Trusted packages (bypass security prompts) - Extended list
trusted_packages = [
  "@fire22/security-scanner",
  "@fire22/analytics-dashboard",
  "@fire22/compliance-core",
  "@sportsbet-registry/security-scanner",
  "@sportsbet-registry/compliance-checker",
  "@sportsbet-registry/fraud-detector",
  "@sportsbet-registry/audit-logger",
  "@sportsbet-registry/betting-engine",
  "@sportsbet-registry/odds-calculator",
  "typescript",
  "prettier",
  "eslint"
]

# ðŸ“Š Analytics & Monitoring
[analytics]
# Enable build analytics
enabled = true
# Analytics output directory
output_dir = "./analytics"
# Performance metrics
performance = { enabled = true, detailed = true }
# Bundle size analysis
bundle_size = { enabled = true, threshold = "500KB" }
# Dependency analysis
dependencies = { enabled = true, circular_check = true }

# ðŸ” Security Configuration
[security]
# Enable security scanning
scanning = false
# Security audit level
audit_level = "high"
# Block malicious packages
block_malicious = true
# Check for vulnerabilities
vulnerability_check = true
# License compliance
license_check = true
# Code signing
code_signing = { enabled = true, certificate = "~/.bun/certificates/code-signing.pem" }

# Environment Variables & Secrets Management
[secrets]
# Enable Bun secrets management
enabled = true
# Secrets storage location
storage = "~/.bun/secrets"
# Environment-specific secrets
env_secrets = true
# Auto-load secrets from .env files
auto_load_env = true

# Fantasy402 Integration Secrets
[secrets.fantasy402]
# Fantasy402 API credentials
api_key = "$FANTASY402_API_KEY"
api_secret = "$FANTASY402_API_SECRET"
webhook_secret = "$FANTASY402_WEBHOOK_SECRET"
# Authentication tokens
access_token = "$FANTASY402_ACCESS_TOKEN"
refresh_token = "$FANTASY402_REFRESH_TOKEN"
# Database connection
db_connection = "$FANTASY402_DB_CONNECTION"
# Redis cache
redis_url = "$FANTASY402_REDIS_URL"

# Fire22 Enterprise Secrets
[secrets.fire22]
# Registry tokens
registry_token = "$FIRE22_REGISTRY_TOKEN"
enterprise_token = "$FIRE22_ENTERPRISE_TOKEN"
private_token = "$FIRE22_PRIVATE_TOKEN"
# Security certificates
windows_cert_password = "$FIRE22_WINDOWS_CERT_PASSWORD"
code_signing_key = "$FIRE22_CODE_SIGNING_KEY"
# External services
slack_webhook = "$FIRE22_SLACK_WEBHOOK"
pagerduty_key = "$FIRE22_PAGERDUTY_KEY"

# Development & Testing Secrets
[secrets.development]
# Test API keys
test_api_key = "$TEST_API_KEY"
staging_db_url = "$STAGING_DB_URL"
mock_service_key = "$MOCK_SERVICE_KEY"
# Debug tokens
debug_token = "$DEBUG_TOKEN"
profiler_key = "$PROFILER_KEY"

# ðŸš€ Performance Configuration
[performance]
# Enable performance optimizations
optimizations = true
# Preload critical resources
preload = ["./src/index.ts", "./src/styles/index.css"]
# Bundle splitting strategy
splitting = { chunks = "async", vendor = true }
# Caching strategy
cache = { enabled = true, strategy = "aggressive" }
# Compression
compression = { enabled = true, algorithm = "gzip" }

# ðŸ“ Logging Configuration
[logging]
# Log level
level = "info"
# Log format
format = "json"
# Log output destinations
outputs = ["console", "file"]
# Log file configuration
file = { path = "./logs/bun.log", max_size = "10MB", rotation = "daily" }
# Structured logging
structured = true

# ðŸ§ª Testing Configuration (Enhanced)
# Extended test configuration merged with section above
# Additional patterns for comprehensive test discovery
# patterns = ["**/*.test.ts", "**/*.spec.ts", "**/__tests__/**/*.ts"]

# ðŸ“¦ Package Management (Advanced)
[package]
# Custom registry configuration
registry = { url = "https://registry.npmjs.org", auth = "$NPM_TOKEN" }
# Package resolution strategy
resolution = "highest"
# Peer dependency handling
peer_deps = { auto_install = true, strict = false }
# Lockfile configuration
lockfile = { format = "bun", validate = true, prune = true }
# Dependency overrides
overrides = { "react" = "^18.0.0", "typescript" = "^5.0.0" }

# ðŸŒ Environment Configuration
[env]
# Default environment variables
NODE_ENV = "development"
BUN_ENV = "development"
FIRE22_ENV = "enterprise"
# Environment-specific overrides
[env.production]
NODE_ENV = "production"
BUN_ENV = "production"
DEBUG = false
LOG_LEVEL = "warn"

[env.development]
NODE_ENV = "development"
BUN_ENV = "development"
DEBUG = true
LOG_LEVEL = "debug"

# ðŸ”§ Development Tools
[dev]
# Enable development tools
tools = true
# Hot reload configuration
hot_reload = { enabled = true, watch = ["src/**/*", "public/**/*"] }
# Development server configuration
server = { port = 3000, host = "localhost", https = false }
# Debugging configuration
debug = { enabled = true, breakpoints = true, inspector = true }
# Profiling configuration
profile = { enabled = true, heap = true, cpu = true }
# Debugger integration
debugger = { enabled = true, port = 9229 }
# Profiler integration
profiler = { enabled = true, port = 9230 }
# REPL integration
repl = { enabled = true, history_file = "./.bun_repl_history" }

# ðŸ“‹ Task Configuration
[task]
# Custom build tasks
build = { command = "bun run build", watch = ["src/**/*"] }
# Development task
dev = { command = "bun run dev", watch = ["src/**/*", "public/**/*"] }
# Test task
test = { command = "bun test", watch = ["src/**/*", "test/**/*"] }
# Lint task
lint = { command = "bun run lint", watch = ["src/**/*"] }

# ðŸ”— Integration Configuration
[integrations]
# External service integrations
github = { enabled = true, token = "$GITHUB_TOKEN" }
# Cloudflare Workers integration
cloudflare = { enabled = true, account_id = "$CF_ACCOUNT_ID", api_token = "$CF_API_TOKEN" }
# Database integrations
database = { type = "sqlite", path = "./data/app.db" }
# API integrations
api = { base_url = "https://api.fire22.com", timeout = 5000 }

# ðŸ“Š Metrics & Monitoring
[metrics]
# Enable metrics collection
enabled = true
# Metrics collection interval
interval = "30s"
# Metrics output format
format = "prometheus"
# Custom metrics
custom = [
  { name = "build_time", type = "histogram" },
  { name = "bundle_size", type = "gauge" },
  { name = "test_coverage", type = "gauge" }
]

# ðŸ—ï¸ Build Pipeline Configuration
[pipeline]
# Build stages
stages = ["lint", "test", "build", "deploy"]
# Parallel execution
parallel = true
# Cache configuration
cache = { enabled = true, paths = [".bun/cache", "node_modules/.cache"] }
# Artifact storage
artifacts = { enabled = true, path = "./artifacts", retention = "30d" }

# ðŸŽ¯ Quality Assurance
[quality]
# Code quality checks
checks = ["lint", "format", "security", "performance"]
# Quality gates
gates = [
  { metric = "test_coverage", operator = ">=", value = 80 },
  { metric = "bundle_size", operator = "<=", value = "2MB" },
  { metric = "security_score", operator = ">=", value = 90 }
]
# Automated fixes
auto_fix = { enabled = true, rules = ["format", "imports"] }

# ðŸš€ Deployment Configuration
[deploy]
# Deployment targets
targets = ["preview", "production"]
# Deployment strategy
strategy = "rolling"
# Health checks
health_checks = { enabled = true, endpoint = "/health", timeout = "30s" }
# Rollback configuration
rollback = { enabled = true, automatic = true, threshold = 50 }

# ðŸ“š Documentation Configuration
[docs]
# Auto-generate documentation
auto_generate = true
# Documentation format
format = "markdown"
# API documentation
api_docs = { enabled = true, output = "./docs/api" }
# Component documentation
component_docs = { enabled = true, output = "./docs/components" }

# Dashboard Development Commands
[dashboard.scripts]
# Start dashboard development server
"dev" = "bun run scripts/serve-dashboard-dev.ts"
# Build dashboard for production
"build" = "bun run scripts/build-dashboard.ts"
# Preview production build
"preview" = "bun run scripts/preview-dashboard.ts"
# Test dashboard functionality
"test" = "bun run scripts/test-dashboard.ts"

# ðŸš€ Advanced CLI Features & Build Configuration
[cli]
# Enable advanced CLI features
advanced_features = true

# User-Agent Customization
[user-agent]
# Custom User-Agent string for all HTTP requests
custom_agent = "CrystalClearArchitecture/2.0.0"
# Enable User-Agent override for fetch requests
override_default = true
# User-Agent rotation (for anti-detection)
rotation_enabled = false
# User-Agent pool for rotation
agent_pool = [
  "CrystalClearArchitecture/2.0.0",
  "Mozilla/5.0 (compatible; CrystalClear/2.0)",
  "CrystalClear-Bot/2.0.0 (+https://github.com/brendadeeznuts1111/crystal-clear-architecture)"
]
# Rotation interval in minutes
rotation_interval_minutes = 60

# Build & Compilation Configuration
[build]
# Enable advanced build features
advanced_build = true

# Executable Compilation Settings
[build.compile]
# Enable executable compilation
enabled = true
# Default target platform
default_target = "bun-linux-x64"
# Cross-compilation targets
cross_compile_targets = [
  "bun-linux-x64",
  "bun-linux-x64-musl",
  "bun-linux-arm64",
  "bun-windows-x64",
  "bun-macos-x64",
  "bun-macos-arm64"
]
# Optimize for size
optimize_size = true
# Optimize for speed
optimize_speed = true
# Enable dead code elimination
dead_code_elimination = true

# Embedded Runtime Arguments
[build.compile.exec_argv]
# Embed runtime flags into executables
enabled = true
# Embedded arguments (applied at runtime)
embedded_args = [
  "--smol",
  "--user-agent=CrystalClearArchitecture/2.0.0"
]
# Make embedded args inspectable via process.execArgv
expose_exec_argv = true

# Windows Executable Metadata (Enhanced)
[build.compile.windows]
# Enable Windows-specific settings
windows_enabled = true
# Application metadata (CLI flags: --windows-title, --windows-publisher, etc.)
title = "Fantasy42-Fire22 Enterprise Registry"
publisher = "Fire22 Enterprise LLC"
version = "5.1.0.0"
description = "Enterprise-grade Fantasy42-Fire22 package registry with advanced security, performance optimization, and real-time sports betting operations"
copyright = "Â© 2024-2025 Fire22 Enterprise LLC. All rights reserved."
# Enhanced metadata for professional appearance
company = "Fire22 Enterprise LLC"
product_name = "Fantasy42-Fire22 Registry Suite"
product_version = "5.1.0"
file_version = "5.1.0.0"
trademarks = "Fantasy42â„¢ and Fire22â„¢ are trademarks of Fire22 Enterprise LLC"
# Icon configuration (higher quality)
icon_path = "./assets/fantasy42-fire22-registry-icon.ico"
# Digital signature (enterprise-grade)
sign_executable = true
certificate_path = "~/.bun/certificates/fire22-enterprise-code-signing.pfx"
certificate_password = "$FIRE22_WINDOWS_CERT_PASSWORD"
timestamp_server = "http://timestamp.digicert.com"
# Windows-specific optimizations
subsystem = "console"  # console for registry operations
requested_execution_level = "asInvoker"  # asInvoker, highestAvailable, requireAdministrator
# Language and locale
language = "en-US"
charset = "utf-8"
# Advanced Windows features
enable_visual_styles = true
enable_dpi_awareness = true
high_dpi_support = true
long_path_support = true
# Registry-specific Windows metadata
internal_name = "Fantasy42Fire22Registry"
original_filename = "fantasy42-fire22-registry.exe"
comments = "Enterprise package registry for sports betting operations with Bun optimizations"
# Security and compliance metadata
security_level = "enterprise"
compliance_frameworks = "GDPR,PCI-DSS,SOC2"
audit_enabled = true

# macOS Executable Settings
[build.compile.macos]
# Enable macOS-specific settings
macos_enabled = true
# Bundle identifier
bundle_id = "com.fire22.crystalclear"
# Category
category = "public.app-category.business"
# Minimum macOS version
minimum_version = "12.0"
# Enable sandbox
sandbox_enabled = false
# Code signing
codesign_enabled = false
codesign_identity = "Developer ID Application"

# Linux Executable Settings
[build.compile.linux]
# Enable Linux-specific settings
linux_enabled = true
# Use musl instead of glibc (more portable)
use_musl = true
# Static linking
static_linking = true
# Include debug symbols
debug_symbols = false

# Build Optimization Settings
[build.optimization]
# Enable all optimizations
all_optimizations = true
# Tree shaking level
tree_shaking = "aggressive"
# Minification settings
minification = { whitespace = true, identifiers = true, syntax = true }
# Bundle splitting
bundle_splitting = { enabled = true, strategy = "async" }
# External dependencies
external_dependencies = ["node:*", "bun:*"]
# Code analysis
code_analysis = { enabled = true, complexity_check = true }

# Development Build Settings
[build.dev]
# Hot reload configuration
hot_reload = { enabled = true, watch_paths = ["src/**/*", "public/**/*"] }
# Source maps for debugging
source_maps = "linked"
# Development server
dev_server = { port = 3000, host = "localhost", https = false }
# Console bridging
console_bridge = true
# Error overlay
error_overlay = true

# Production Build Settings
[build.production]
# Production optimizations
production_optimizations = true
# Bundle analyzer
bundle_analyzer = { enabled = true, output_dir = "./build-analysis" }
# Performance monitoring
performance_monitoring = true
# Asset optimization
asset_optimization = { images = true, fonts = true, css = true }
# Compression
compression = { enabled = true, algorithm = "gzip", level = 6 }

# Plugin Configuration
[build.plugins]
# Enable plugin system
enabled = true
# Tailwind CSS plugin
tailwind = { enabled = true, config = "tailwind.config.js" }
# CSS optimization
postcss = { enabled = true, plugins = ["autoprefixer", "cssnano"] }
# Image optimization
imagemin = { enabled = true, quality = 85 }
# Bundle analysis
webpack_bundle_analyzer = { enabled = true, open_browser = false }

# Runtime Configuration
[runtime]
# Enable advanced runtime features
advanced_runtime = true

# Memory Management
[runtime.memory]
# Memory optimization
optimization_enabled = true
# Garbage collection tuning
gc_tuning = { enabled = true, strategy = "balanced" }
# Memory limits
heap_limit_mb = 1024
# Memory monitoring
monitoring_enabled = true

# Network Configuration
[runtime.network]
# HTTP client settings
http_client = { timeout = 30000, keep_alive = true }
# DNS resolution
dns_resolution = { cache_enabled = true, ttl_seconds = 300 }
# SSL/TLS configuration
tls_config = { verify_certificates = true, min_version = "1.2" }

# File System Operations
[runtime.fs]
# File watching
watcher_enabled = true
# File caching
cache_enabled = true
# Path resolution
path_resolution = { strict = false, case_sensitive = false }

# Process Management
[runtime.process]
# Process monitoring
monitoring_enabled = true
# Child process management
child_process = { max_concurrent = 10, timeout_seconds = 300 }
# Signal handling
signal_handling = { enabled = true, graceful_shutdown = true }

# Error Handling & Recovery
[runtime.error_handling]
# Global error handling
global_error_handler = true
# Automatic recovery
auto_recovery = { enabled = true, max_retries = 3 }
# Error reporting
error_reporting = { enabled = true, endpoint = "https://errors.fire22.com/report" }

# Performance Profiling
[runtime.profiling]
# Enable profiling
enabled = true
# Profiling modes
modes = ["cpu", "memory", "network"]
# Profiling output
output_dir = "./performance-profiles"
# Sampling rate
sampling_rate_hz = 1000

# Security Configuration
[runtime.security]
# Security hardening
hardening_enabled = true
# Sandbox mode
sandbox_enabled = false
# Privilege dropping
drop_privileges = { enabled = true, user = "nobody", group = "nogroup" }
# Audit logging
audit_logging = { enabled = true, log_file = "./security-audit.log" }

# Internationalization (i18n)
[runtime.i18n]
# Enable i18n
enabled = true
# Default locale
default_locale = "en-US"
# Supported locales
supported_locales = ["en-US", "es-ES", "fr-FR", "de-DE", "zh-CN", "ja-JP"]
# Locale data directory
locale_data_dir = "./locales"
# Fallback locale
fallback_locale = "en-US"

# Telemetry & Analytics
[runtime.telemetry]
# Enable telemetry
enabled = false
# Telemetry endpoint
endpoint = "https://telemetry.fire22.com/collect"
# Data collection
data_collection = { performance = true, errors = true, usage = false }
# Sampling rate
sampling_rate = 0.1
# Retention period
retention_days = 90

# Experimental Features
[runtime.experimental]
# Enable experimental features
enabled = false
# Feature flags
features = [
  "top-level-await",
  "import-assertions",
  "json-modules",
  "css-modules",
  "webassembly"
]
# Feature overrides
overrides = { }



# Testing Framework Integration
[test.framework]
# Enable testing framework
enabled = true
# Test runner
runner = "bun:test"
# Test configuration
config = { timeout = 10000, parallel = true, workers = 4 }
# Coverage configuration
coverage = { enabled = true, reporter = ["text", "lcov", "html"] }
# Integration testing
integration = { enabled = true, base_url = "http://localhost:3000" }

# Package Management Integration
[package.manager]
# Enable package manager features
enabled = true
# Registry configuration
registry = { url = "https://registry.npmjs.org", auth_required = false }
# Dependency management
dependencies = { auto_update = false, security_audit = true }
# Lockfile management
lockfile = { validate = true, auto_fix = false }

# Cloud Integration
[cloud]
# Enable cloud features
enabled = false
# Cloud provider
provider = "aws" # aws, gcp, azure, cloudflare
# Deployment configuration
deployment = { region = "us-east-1", environment = "production" }
# CDN integration
cdn = { enabled = false, provider = "cloudflare" }
# Database integration
database = { enabled = false, provider = "postgresql" }

# Monitoring & Alerting
[monitoring]
# Enable monitoring
enabled = true
# Monitoring provider
provider = "datadog" # datadog, newrelic, prometheus, cloudwatch
# Metrics collection
metrics = { enabled = true, interval_seconds = 60 }
# Alerting configuration
alerting = { enabled = true, slack_webhook = "$SLACK_WEBHOOK_URL" }
# Log aggregation
logging = { enabled = true, retention_days = 30 }

# Backup & Recovery
[backup]
# Enable backup system
enabled = true
# Backup schedule
schedule = "0 2 * * *" # Daily at 2 AM
# Backup retention
retention_days = 30
# Backup location
location = { type = "s3", bucket = "fire22-backups", region = "us-east-1" }
# Encryption
encryption = { enabled = true, key_id = "$BACKUP_ENCRYPTION_KEY" }

# Disaster Recovery
[disaster_recovery]
# Enable disaster recovery
enabled = true
# Recovery time objective (RTO)
rto_minutes = 60
# Recovery point objective (RPO)
rpo_minutes = 15
# Multi-region deployment
multi_region = { enabled = false, regions = ["us-east-1", "us-west-2"] }
# Failover configuration
failover = { enabled = true, automatic = true, test_frequency = "weekly" }

# ============================================================================
# PERFORMANCE OPTIMIZATION SECTION - Based on Real-Time Betting Analysis
# ============================================================================

# Edge Computing Performance (Critical for Real-Time Betting)
[performance.edge_computing]
# Enable edge-optimized execution
enabled = true
# WebSocket optimization for real-time odds updates
websocket_optimization = true
# Global CDN cache strategy for betting data
cdn_cache_strategy = "aggressive"
# Regional failover for betting events
regional_failover = { enabled = true, latency_threshold_ms = 50 }

# Real-Time Data Processing (Critical for Live Sports)
[performance.real_time]
# Event-driven processing for betting events
event_driven = true
# In-memory caching for frequently accessed odds
memory_cache = { enabled = true, ttl_seconds = 30, max_size_mb = 100 }
# Streaming optimization for live score updates
streaming_optimization = { enabled = true, chunk_size_kb = 64 }
# Low-latency database queries for odds data
low_latency_queries = { enabled = true, timeout_ms = 100 }

# Microservices Communication (Critical for Distributed Architecture)
[performance.microservices]
# Service mesh optimization
service_mesh = { enabled = true, protocol = "http2" }
# Circuit breaker for betting services
circuit_breaker = { enabled = true, failure_threshold = 5, recovery_timeout_seconds = 30 }
# Load balancing for high-traffic betting periods
load_balancing = { enabled = true, algorithm = "least-latency" }
# Inter-service communication optimization
inter_service_communication = { compression = "gzip", timeout_ms = 2000 }

# Scalability Configuration (Critical for Sports Event Traffic Spikes)
[performance.scalability]
# Auto-scaling based on betting traffic
auto_scaling = { enabled = true, cpu_threshold = 70, memory_threshold = 80 }
# Horizontal scaling for global events
horizontal_scaling = { enabled = true, max_instances = 100, min_instances = 3 }
# Resource allocation for peak betting times
resource_allocation = { peak_multiplier = 3.0, off_peak_multiplier = 0.5 }
# Database connection pooling for high concurrency
connection_pooling = { max_connections = 1000, min_connections = 10 }

# Security Performance Balance (Critical for Fintech Compliance)
[performance.security]
# Optimized security scanning for package installations
security_scan_optimization = { enabled = true, cache_results = true, parallel_scanning = true }
# JWT token validation optimization
jwt_optimization = { enabled = true, cache_validation = true, ttl_seconds = 300 }
# SSL/TLS optimization for secure betting transactions
ssl_optimization = { enabled = true, session_resumption = true, early_data = true }

# Monitoring & Observability (Critical for Real-Time Systems)
[performance.monitoring]
# Real-time performance metrics
real_time_metrics = { enabled = true, interval_seconds = 10, retention_days = 7 }
# Distributed tracing for microservices
distributed_tracing = { enabled = true, sampling_rate = 0.1, exporter = "cloudflare" }
# Performance alerting for betting operations
performance_alerting = { enabled = true, latency_threshold_ms = 100, error_rate_threshold = 0.05 }
# User experience monitoring
user_experience_monitoring = { enabled = true, apdex_target = 0.8 }

[publish]
registry = "https://npm.factory-wager.com"
