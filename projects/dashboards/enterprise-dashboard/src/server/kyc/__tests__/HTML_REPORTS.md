# HTML Test Reports

## Overview

The KYC test suite includes HTML reporting capabilities for visualizing test results in a beautiful, interactive dashboard.

## Files

### 1. `generate-html-report.ts`
**Script that generates HTML test reports**

Generates a comprehensive HTML report from test execution results.

**Usage:**
```bash
bun run test:kyc:report
# or
bun run src/server/kyc/__tests__/generate-html-report.ts
```

**Features:**
- âœ… Parses Bun test output
- âœ… Generates beautiful HTML dashboard
- âœ… Groups tests by file
- âœ… Shows pass/fail statistics
- âœ… Displays execution times
- âœ… Expandable/collapsible sections
- âœ… Auto-expands failed tests

**Output:** `test-report.html`

### 2. `test-results-viewer.html`
**Interactive test results viewer**

A standalone HTML file for viewing and interacting with test results.

**Features:**
- ğŸ”„ Run tests button (requires backend integration)
- ğŸ“„ Load report button
- ğŸ“– Expand/Collapse all sections
- ğŸ“Š Real-time statistics display
- ğŸ¨ Beautiful gradient design
- ğŸ“± Responsive layout

**Usage:**
```bash
# Open in browser
open src/server/kyc/__tests__/test-results-viewer.html
```

### 3. `test-report.html` (Generated)
**Auto-generated test report**

Generated by `generate-html-report.ts` after running tests.

**Features:**
- ğŸ“Š Test statistics summary
- ğŸ“ Tests grouped by file
- âœ… Pass/fail indicators
- â±ï¸ Execution timing
- ğŸ¯ Pass rate percentages
- ğŸ“ˆ Visual progress indicators

## Report Structure

### Summary Section
- **Total Tests**: Overall test count
- **Passed**: Number of passing tests
- **Failed**: Number of failing tests
- **Duration**: Total execution time

### File Sections
Each test file gets its own section with:
- File name
- Pass/fail counts
- Pass rate percentage
- Expandable test list
- Individual test durations

### Test Items
Each test shows:
- âœ…/âŒ Status icon
- Test name
- Execution duration

## Styling

The HTML reports feature:
- ğŸ¨ Modern gradient design
- ğŸ“± Responsive layout
- ğŸ–±ï¸ Interactive elements
- ğŸ¯ Color-coded status indicators
- ğŸ“Š Visual statistics cards

## Integration

### CI/CD Integration
```yaml
# Example GitHub Actions
- name: Run KYC Tests
  run: bun run test:kyc

- name: Generate HTML Report
  run: bun run test:kyc:report

- name: Upload Report
  uses: actions/upload-artifact@v3
  with:
    name: test-report
    path: src/server/kyc/__tests__/test-report.html
```

### Local Development
```bash
# Run tests and generate report
bun run test:kyc:report

# Open report in browser
open src/server/kyc/__tests__/test-report.html
```

## Customization

### Modify Report Style
Edit the `<style>` section in `generate-html-report.ts` to customize:
- Colors
- Layout
- Typography
- Spacing
- Animations

### Add Custom Metrics
Extend the `TestSummary` interface and `generateHTML` function to include:
- Coverage percentages
- Performance benchmarks
- Test categories
- Custom statistics

## Examples

### Basic Usage
```bash
# Generate report
bun run test:kyc:report

# View report
open src/server/kyc/__tests__/test-report.html
```

### With Coverage
```bash
# Run tests with coverage
bun run test:kyc:coverage

# Generate report
bun run test:kyc:report
```

### Watch Mode
```bash
# Run tests in watch mode
bun run test:kyc:watch

# In another terminal, generate report
bun run test:kyc:report
```

## Browser Compatibility

The HTML reports work in all modern browsers:
- âœ… Chrome/Edge (Chromium)
- âœ… Firefox
- âœ… Safari
- âœ… Opera

## Future Enhancements

- [ ] Real-time test execution viewer
- [ ] Historical test trend charts
- [ ] Coverage visualization
- [ ] Performance comparison graphs
- [ ] Export to PDF
- [ ] Shareable report links

## References

- [Test README](./README.md)
- [Test Summary](./TEST_SUMMARY.md)
- [Complete Test Suite](./COMPLETE_TEST_SUITE.md)
