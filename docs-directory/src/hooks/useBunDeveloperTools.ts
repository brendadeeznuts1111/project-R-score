import { useState, useEffect } from 'react';\n\ninterface BunDeveloperTools {\n  editor: {\n    openFile: (path: string, line?: number) => Promise<boolean>;\n    openInEditor: (path: string) => Promise<boolean>;\n  };\n  inspection: {\n    inspect: (obj: any, options?: { depth?: number; colors?: boolean }) => string;\n    format: (obj: any) => string;\n  };\n  terminal: {\n    enableColors: (enabled: boolean) => void;\n    getTerminalInfo: () => { supportsColor: boolean; columns: number; rows: number };\n  };\n  cli: {\n    getArguments: () => string[];\n    getEnvironment: () => Record<string, string>;\n    exit: (code?: number) => void;\n  };\n}\n\nexport function useBunDeveloperTools(): BunDeveloperTools {\n  const [isReady, setIsReady] = useState(false);\n  const [terminalInfo, setTerminalInfo] = useState({\n    supportsColor: false,\n    columns: 80,\n    rows: 24\n  });\n\n  useEffect(() => {\n    setIsReady(true);\n    updateTerminalInfo();\n  }, []);\n\n  const updateTerminalInfo = () => {\n    try {\n      if (typeof process !== 'undefined') {\n        setTerminalInfo({\n          supportsColor: process.stdout?.isTTY || false,\n          columns: process.stdout?.columns || 80,\n          rows: process.stdout?.rows || 24\n        });\n      }\n    } catch (error) {\n      // Browser environment fallback\n      setTerminalInfo({\n        supportsColor: true,\n        columns: window.innerWidth > 768 ? 120 : 80,\n        rows: 24\n      });\n    }\n  };\n\n  // Editor Integration\n  const editor = {\n    openFile: async (path: string, line?: number): Promise<boolean> => {\n      try {\n        if (typeof Bun !== 'undefined' && Bun.openInEditor) {\n          if (line) {\n            return await Bun.openInEditor(`${path}:${line}`);\n          }\n          return await Bun.openInEditor(path);\n        }\n        \n        // Fallback: try to open with VS Code protocol\n        if (typeof window !== 'undefined') {\n          const url = line ? `vscode://file/${path}:${line}` : `vscode://file/${path}`;\n          window.open(url, '_blank');\n          return true;\n        }\n        \n        return false;\n      } catch (error) {\n        console.error('Failed to open file in editor:', error);\n        return false;\n      }\n    },\n\n    openInEditor: async (path: string): Promise<boolean> => {\n      return this.openFile(path);\n    }\n  };\n\n  // Object Inspection\n  const inspection = {\n    inspect: (obj: any, options: { depth?: number; colors?: boolean } = {}): string => {\n      try {\n        const { depth = 4, colors = terminalInfo.supportsColor } = options;\n        \n        if (typeof Bun !== 'undefined' && Bun.inspect) {\n          return Bun.inspect(obj, { depth, colors });\n        }\n        \n        // Fallback inspection\n        return this.format(obj);\n      } catch (error) {\n        console.error('Failed to inspect object:', error);\n        return String(obj);\n      }\n    },\n\n    format: (obj: any): string => {\n      try {\n        if (obj === null) return 'null';\n        if (obj === undefined) return 'undefined';\n        if (typeof obj === 'string') return `\"${obj}\"`;\n        if (typeof obj === 'number' || typeof obj === 'boolean') return String(obj);\n        if (typeof obj === 'function') return `[Function: ${obj.name || 'anonymous'}]`;\n        if (obj instanceof Date) return `[Date: ${obj.toISOString()}]`;\n        if (obj instanceof RegExp) return obj.toString();\n        if (Array.isArray(obj)) {\n          const items = obj.map(item => this.format(item));\n          return `[${items.join(', ')}]`;\n        }\n        if (typeof obj === 'object') {\n          const entries = Object.entries(obj).map(([key, value]) => `${key}: ${this.format(value)}`);\n          return `{ ${entries.join(', ')} }`;\n        }\n        \n        return String(obj);\n      } catch (error) {\n        return '[Object]';\n      }\n    }\n  };\n\n  // Terminal Utilities\n  const terminal = {\n    enableColors: (enabled: boolean) => {\n      try {\n        if (typeof Bun !== 'undefined' && Bun.enableANSIColors) {\n          Bun.enableANSIColors(enabled);\n        }\n        \n        setTerminalInfo(prev => ({ ...prev, supportsColor: enabled }));\n      } catch (error) {\n        console.error('Failed to enable ANSI colors:', error);\n      }\n    },\n\n    getTerminalInfo: () => {\n      return terminalInfo;\n    }\n  };\n\n  // CLI Utilities\n  const cli = {\n    getArguments: (): string[] => {\n      try {\n        if (typeof Bun !== 'undefined' && Bun.argv) {\n          return Bun.argv;\n        }\n        \n        if (typeof process !== 'undefined' && process.argv) {\n          return process.argv;\n        }\n        \n        // Browser fallback\n        if (typeof window !== 'undefined') {\n          const url = new URL(window.location.href);\n          const params = new URLSearchParams(url.search);\n          return Array.from(params.keys()).reduce((acc, key) => {\n            acc.push(`--${key}`);\n            acc.push(params.get(key) || '');\n            return acc;\n          }, [] as string[]);\n        }\n        \n        return [];\n      } catch (error) {\n        console.error('Failed to get CLI arguments:', error);\n        return [];\n      }\n    },\n\n    getEnvironment: (): Record<string, string> => {\n      try {\n        if (typeof Bun !== 'undefined' && Bun.env) {\n          return Bun.env;\n        }\n        \n        if (typeof process !== 'undefined' && process.env) {\n          return process.env as Record<string, string>;\n        }\n        \n        // Browser fallback\n        if (typeof window !== 'undefined') {\n          const env: Record<string, string> = {};\n          // Add some browser-specific environment variables\n          env.USER_AGENT = navigator.userAgent;\n          env.LANGUAGE = navigator.language;\n          env.PLATFORM = navigator.platform;\n          env.NODE_ENV = process.env?.NODE_ENV || 'development';\n          return env;\n        }\n        \n        return {};\n      } catch (error) {\n        console.error('Failed to get environment variables:', error);\n        return {};\n      }\n    },\n\n    exit: (code: number = 0) => {\n      try {\n        if (typeof process !== 'undefined' && process.exit) {\n          process.exit(code);\n        }\n        \n        // Browser fallback: reload or close\n        if (typeof window !== 'undefined') {\n          if (code === 0) {\n            window.location.reload();\n          } else {\n            window.close();\n          }\n        }\n      } catch (error) {\n        console.error('Failed to exit process:', error);\n      }\n    }\n  };\n\n  return {\n    editor,\n    inspection,\n    terminal,\n    cli\n  };\n}\n\n// Utility function for colored console output\nexport function colorize(text: string, color: 'red' | 'green' | 'yellow' | 'blue' | 'magenta' | 'cyan' | 'white' | 'gray'): string {\n  const colors = {\n    red: '\\x1b[31m',\n    green: '\\x1b[32m',\n    yellow: '\\x1b[33m',\n    blue: '\\x1b[34m',\n    magenta: '\\x1b[35m',\n    cyan: '\\x1b[36m',\n    white: '\\x1b[37m',\n    gray: '\\x1b[90m',\n    reset: '\\x1b[0m'\n  };\n  \n  if (typeof window !== 'undefined') {\n    // Browser: no ANSI colors\n    return text;\n  }\n  \n  return `${colors[color]}${text}${colors.reset}`;\n}\n\n// Utility function for logging with different levels\nexport function createLogger(prefix: string) {\n  const { terminal } = useBunDeveloperTools();\n  const supportsColor = terminal.getTerminalInfo().supportsColor;\n  \n  return {\n    info: (message: string, ...args: any[]) => {\n      const prefixed = supportsColor ? colorize(`[INFO] ${prefix}`, 'cyan') : `[INFO] ${prefix}`;\n      console.log(prefixed, message, ...args);\n    },\n    \n    warn: (message: string, ...args: any[]) => {\n      const prefixed = supportsColor ? colorize(`[WARN] ${prefix}`, 'yellow') : `[WARN] ${prefix}`;\n      console.warn(prefixed, message, ...args);\n    },\n    \n    error: (message: string, ...args: any[]) => {\n      const prefixed = supportsColor ? colorize(`[ERROR] ${prefix}`, 'red') : `[ERROR] ${prefix}`;\n      console.error(prefixed, message, ...args);\n    },\n    \n    success: (message: string, ...args: any[]) => {\n      const prefixed = supportsColor ? colorize(`[SUCCESS] ${prefix}`, 'green') : `[SUCCESS] ${prefix}`;\n      console.log(prefixed, message, ...args);\n    },\n    \n    debug: (message: string, ...args: any[]) => {\n      if (process.env?.NODE_ENV === 'development') {\n        const prefixed = supportsColor ? colorize(`[DEBUG] ${prefix}`, 'gray') : `[DEBUG] ${prefix}`;\n        console.debug(prefixed, message, ...args);\n      }\n    }\n  };\n}\n\n// React hook for development mode debugging\nexport function useDevTools(enabled: boolean = process.env.NODE_ENV === 'development') {\n  const [isDevMode, setIsDevMode] = useState(enabled);\n  const devTools = useBunDeveloperTools();\n  const logger = createLogger('DevTools');\n\n  const toggleDevMode = () => {\n    setIsDevMode(!isDevMode);\n  };\n\n  const logComponentInfo = (componentName: string, props: any, state: any) => {\n    if (!isDevMode) return;\n    \n    logger.debug(`Component: ${componentName}`);\n    logger.debug('Props:', devTools.inspection.inspect(props, { depth: 2 }));\n    logger.debug('State:', devTools.inspection.inspect(state, { depth: 2 }));\n  };\n\n  const openComponentFile = (componentPath: string) => {\n    devTools.editor.openFile(componentPath);\n  };\n\n  return {\n    isDevMode,\n    toggleDevMode,\n    devTools,\n    logger,\n    logComponentInfo,\n    openComponentFile\n  };\n}
