# [HUMAN.CAPITAL.ORCHESTRATION.RG] Human Capital Orchestration & Knowledge Graph Subsystem

**Version**: 2.0.0  
**Last Updated**: 2025-01-27  
**Ripgrep Pattern**: `HUMAN.CAPITAL.ORCHESTRATION.RG|Human Capital|TEAM.md|mlgs.team.info`

---

## [HUMAN.CAPITAL.OVERVIEW.RG] Overview

**Scope**: This subsystem formalizes Hyper-Bun's organizational structure, roles, communication protocols, and review processes within a `ripgrep`-discoverable `TEAM.md` document. It transforms static documentation into an active component of our human capital management, enabling rapid context discovery and optimizing team collaboration.

**Strategic Impact**: Integrates human organization with Hyper-Bun's automated intelligence, extending vertical integration to the people building and operating the system.

---

## [TEAM.MD.KNOWLEDGE.GRAPH.RG] 24.1.0.0.0.0.0 TEAM.md as the Core Human Capital Knowledge Graph

### [TEAM.MD.RG.MARKERS.RG] 24.1.1.0.0.0.0 ripgrep-Discoverable Metadata Markers (RG Markers)

**Mechanism**: A total of **19 distinct `ripgrep`-friendly RG markers** are strategically embedded throughout the `.github/TEAM.md` document:

- **Main Sections (3)**: `[TEAM.STRUCTURE.RG]`, `[TEAM.OVERVIEW.RG]`, `[TEAM.DEPARTMENTS.RG]`
- **Department Markers (8)**: `[TEAM.DEPARTMENT.API.ROUTES.RG]`, `[TEAM.DEPARTMENT.ARBITRAGE.TRADING.RG]`, etc.
- **Team Roles Markers (4)**: `[TEAM.ROLES.LEADS.RG]`, `[TEAM.ROLES.CONTRIBUTORS.RG]`, etc.
- **Additional Sections (4)**: `[TEAM.REVIEW.ASSIGNMENT.RG]`, `[TEAM.COMMUNICATION.RG]`, etc.

**ripgrep Verification**:

```bash
# Targeted search
rg 'TEAM.STRUCTURE.RG' .github/TEAM.md
# Returns: 1 match

# Comprehensive search
rg 'TEAM\..*\.RG' .github/TEAM.md
# Returns: 19 matches

# Count verification
rg '\.RG\]' .github/TEAM.md | wc -l
# Returns: 19
```

**Benefit**: Transforms `TEAM.md` from a passively read document into an actively searchable knowledge base, linking human structure directly to operational context.

### [TEAM.MD.HIERARCHY.RG] 24.1.2.0.0.0.0 Hierarchical Structure & Categorization

**Structure**:

1. **Main Sections (3)**: High-level entry points for navigation
2. **Department Markers (8)**: Drill-down into functional areas
3. **Team Roles Markers (4)**: Categorize personnel by function
4. **Additional Sections (4)**: Cover operational aspects

**Benefit**: Facilitates intuitive navigation and rapid information retrieval, whether seeking an individual, a department's responsibilities, or a specific process.

### [TEAM.POLICY.ENFORCEMENT.RG] 24.1.3.0.0.0.0 Policy Enforcement via TEAM.md

**Mechanism**: Specific RG-marked sections in TEAM.md define mandatory policies (e.g., `[TEAM.POLICY.PR_REVIEW_SLA.RG]`, `[TEAM.POLICY.INCIDENT_RESPONSE_ROSTER.RG]`). These are parsed by CI/CD or runtime checks.

**Policy Schema Interface**:

```typescript
// [TEAM.POLICY.SCHEMA.RG:INTERFACE] Policy Schema Definition
export interface Policy {
  id: string; // RG marker ID
  name: string;
  description: string;
  type: 'SLA' | 'Roster' | 'Requirement' | 'Threshold';
  value: string | number | string[]; // Policy value (e.g., '2h', 0.8, ['Admin'])
  scope: 'global' | 'department' | 'role';
  enforcedBy: 'CI' | 'Runtime' | 'Manual';
}
```

**CI/CD Integration**: During PRs, CI checks use `mlgs.team.info` to extract `[TEAM.POLICY.PR_REVIEW_SLA.RG]` and enforce review time adherence.

**Runtime Integration**: `CmmsAnalyzer17` or `ProductionCircuitBreaker` can query `[TEAM.POLICY.ALERT_THRESHOLD.RG]` to dynamically set alert sensitivities.

**Benefit**: Transforms TEAM.md from descriptive to prescriptive, allowing policies to be defined, discovered, and programmatically enforced, ensuring operational discipline.

**RG Marker**: `[TEAM.POLICY.ENFORCEMENT.RG:IMPLEMENTATION]`

---

## [AUTOMATED.DISCOVERY.RG] 24.2.0.0.0.0.0 Automated Human Capital Discovery (CLI & AI Integration)

### [TEAM.INFO.MCP.TOOL.RG] 24.2.1.0.0.0.0 `mlgs.team.info` MCP Tool

**Mechanism**: A new MCP tool (`src/mcp/tools/team-info.ts`) allows programmatic queries against the `TEAM.md` document using `ripgrep`.

**Functionality**:

```typescript
// Query department information
mlgs.team.info('department:arbitrage')
// Returns: Full content of [TEAM.DEPARTMENT.ARBITRAGE.TRADING.RG] section

// Query role information
mlgs.team.info('role:lead')
// Returns: [TEAM.ROLES.LEADS.RG] section

// Query communication protocols
mlgs.team.info('communication')
// Returns: [TEAM.COMMUNICATION.RG] section

// Free-text search
mlgs.team.info('security')
// Returns: All TEAM markers containing "security"
```

**Query Patterns Supported**:

- `department:<name>` - Query specific department (api, arbitrage, orca, dashboard, registry, security, performance, documentation)
- `role:<name>` - Query role information (lead, contributor, maintainer)
- `communication` - Get communication protocols
- `review` or `assignment` - Get review assignment rules
- `colors` - Get department color scheme
- Free-text search - Search across all markers

**Benefit**: Empowers developers, SREs, and AI agents to programmatically query the human capital knowledge graph, quickly finding organizational context.

### [AI.INCIDENT.ROUTING.RG] 24.2.2.0.0.0.0 AI-Assisted Incident Escalation & Routing

**Mechanism**: Integrates with:
- `16.0.0.0.0.0.0 Centralized Logging & Observability Subsystem`
- `McpError` (`6.1.1.2.2.8.1.1.2.6`)

**Workflow**:

1. Critical `NX-MCP-XXX` error occurs
2. AI agent extracts error `source` or `code`
3. Queries `mlgs.team.info('department:responsible_for_X')`
4. Identifies responsible team/lead
5. Routes alert to correct individuals/teams

**Example**:

```typescript
// Error: NX-MCP-001 (MCP Server Error)
// Source: src/mcp/server.ts
// AI Query: mlgs.team.info('department:registry')
// Result: Routes to Registry & MCP Tools Department Lead
```

**Benefit**: Automates intelligent incident escalation, routing alerts to the correct individuals/teams based on the system component in crisis, drastically reducing MTTR.

### [TEAM.ONCALL.ROSTER.RG] 24.2.3.0.0.0.0 Dynamic On-Call Roster Generation

**Mechanism**: The `mlgs.team.info('role:oncall')` query is enhanced to process structured data within TEAM.md (e.g., markdown tables) that define on-call schedules, including rotations and escalation paths.

**Integration**: Automatically updates PagerDuty rosters or internal on-call tools.

**Example Structure in TEAM.md**:

```markdown
### [TEAM.ROLES.ONCALL.RG:SCHEDULE] On-Call Rotation

| Week | Primary | Secondary | Escalation |
|------|---------|-----------|------------|
| 2025-W01 | @api-team-lead | @api-maintainer-1 | @platform-team-lead |
| 2025-W02 | @trading-team-lead | @trading-maintainer-1 | @platform-team-lead |
```

**RG Marker**: `[TEAM.ONCALL.ROSTER.RG:IMPLEMENTATION]`

**Benefit**: Ensures PagerDuty rosters are always in sync with TEAM.md, reducing human error in critical incident response.

---

## [RBAC.REVIEW.ASSIGNMENT.RG] 24.3.0.0.0.0.0 Dynamic Role-Based Access Control & Review Assignments

### [CODEOWNERS.GENERATION.RG] 24.3.1.0.0.0.0 CODEOWNERS File Generation/Validation

**Mechanism**: A scheduled script (`scripts/generate-codeowners.ts`) parses:
- `[TEAM.DEPARTMENT.<NAME>.RG]` sections for department leads
- `[TEAM.ROLES.MAINTAINERS.RG]` section for maintainers
- **Key Areas** from each department for path mapping

**Generation Process**:

```bash
# Generate CODEOWNERS from TEAM.md
bun run scripts/generate-codeowners.ts

# Output: .github/CODEOWNERS
# Format:
# src/api/routes.ts @api-team-lead @maintainer1 @maintainer2
# src/mcp/ @platform-team-lead @mcp-maintainer1
```

**RG Markers Used**:

- `[CODEOWNERS.GENERATOR.RG:IMPLEMENTATION]` - Main generator script
- `[CODEOWNERS.PARSING.RG:IMPLEMENTATION]` - TEAM.md parsing logic
- `[CODEOWNERS.GENERATION.RG:IMPLEMENTATION]` - CODEOWNERS content generation
- `[CODEOWNERS.GENERATED.RG:CONFIG]` - Generated CODEOWNERS file marker

**Benefit**: Ensures Pull Request (PR) review assignments are automatically routed to the correct department maintainers, enforcing code ownership and quality.

### [REVIEW.ASSIGNMENT.ORCHESTRATION.RG] 24.3.2.0.0.0.0 Review Assignment Orchestration

**Mechanism**: Documentation within `[TEAM.REVIEW.ASSIGNMENT.RG]` section describes how automated PR review bots leverage the `TEAM.md` structure.

**Assignment Logic**:

- `src/api/routes.ts` changes → `[TEAM.DEPARTMENT.API.ROUTES.RG]` team members
- `src/mcp/tools/` changes → `[TEAM.DEPARTMENT.REGISTRY.MCP.RG]` team members
- `src/orca/` changes → `[TEAM.DEPARTMENT.ORCA.SPORTS.RG]` team members

**Integration Points**:

- GitHub Actions workflows
- PR bot automation
- Team Coordinator MCP Tool (`src/mcp/tools/team-coordinator.ts`)

**Benefit**: Streamlines the code review process, ensuring relevant expertise is engaged efficiently.

### [TEAM.ML.REVIEWER.ASSIGNMENT.RG] 24.3.3.0.0.0.0 ML-Driven PR Reviewer Assignment (Enhanced)

This mechanism leverages a sophisticated Machine Learning (ML) model to proactively suggest the *most optimal* reviewers for a Pull Request (PR), moving beyond simple code ownership to consider expertise, availability, and workload.

**Mechanism**: The ML model (`MLReviewerSuggester17` service) analyzes a rich set of features to make its assignment recommendations:

#### [TEAM.ML.REVIEWER.CODE.DIFF.RG] 24.3.3.1.0.0.0 Code Diff & Contextual Component Impact Analysis

**Mechanism**: This foundational analytical module precisely identifies the granular impact surface of each Pull Request. Employs sophisticated `git diff --stat` analysis, combined with Hyper-Bun's internal component registry and `CODEOWNERS` (`24.3.1.0.0.0.0`) mappings. It doesn't just list changed files; it understands the affected logical components (e.g., `CorrelationEngine17`, `MarketDataRouter17`), their dependencies, and potential cross-subsystem ramifications.

**RG Marker**: `[TEAM.ML.REVIEWER.CODE.DIFF.RG:IMPLEMENTATION]` - The primary ripgrep marker for tracing the active code responsible for this critical impact assessment.

**Features Extracted**:
- File paths and directories modified
- Lines added/deleted per file
- Component boundaries (e.g., `src/api/`, `src/mcp/tools/`)
- Logical component identification (e.g., `CorrelationEngine17`, `MarketDataRouter17`)
- Dependency analysis and cross-subsystem impact assessment
- CODEOWNERS mapping for affected paths

#### [TEAM.ML.REVIEWER.DEPARTMENT.EXPERTISE.RG] 24.3.3.2.0.0.0 Departmental Expertise & Domain Mastery from `TEAM.md`

**Mechanism**: This module programmatically extracts and quantifies the core domain expertise required for a PR. Leverages `mlgs.team.info` (`24.2.1.0.0.0.0`) to dynamically query `TEAM.md`. It correlates affected components/code paths (from `24.3.3.1.0.0.0`) with specific `[TEAM.DEPARTMENT.<NAME>.RG]` markers to identify the authoritative departmental owners and their collective knowledge base. This ensures fundamental domain alignment for reviews.

**RG Marker**: `[TEAM.ML.REVIEWER.DEPARTMENT.EXPERTISE.RG:IMPLEMENTATION]` - The ripgrep marker for the code segment that performs this essential mapping of code impact to organizational expertise.

**Query Pattern**:
```typescript
// For PR affecting src/api/routes.ts
const deptInfo = await executeTeamInfoTool({ query: 'department:api' });
// Returns: Department lead, maintainers, key areas, review focus
// Correlates with component impact analysis from 24.3.3.1.0.0.0
```

#### [TEAM.ML.REVIEWER.SPECIALTIES.RG] 24.3.3.3.0.0.0 Niche Reviewer Specializations from `TEAM.md` (Precision Expertise)

**Mechanism**: This module identifies and prioritizes highly specialized expertise critical for deep, targeted code scrutiny. Queries the dedicated `[TEAM.ROLES.REVIEW_SPECIALTIES.RG]` section within `TEAM.md`. This section explicitly catalogs individuals' niche skill sets (e.g., `performance_tuning_expert`, `security_audit_specialist`, `bun_runtime_internal_contributor`, `realtime_db_optimisation`). The ML model dynamically matches these specializations against the PR's impact analysis to identify granular expertise requirements.

**RG Marker**: `[TEAM.ML.REVIEWER.SPECIALTIES.RG:IMPLEMENTATION]` - The ripgrep marker pinpointing the logic that extracts and applies these invaluable specialization insights.

**Example Specialties**:
- `@api-team-lead`: API design, OpenAPI specs, REST patterns, error handling
- `@security-team-lead`: Security audits, vulnerability assessment, compliance
- `@performance-team-lead`: Performance optimization, caching strategies, database queries, `realtime_db_optimisation`
- `@platform-team-lead`: `bun_runtime_internal_contributor`, infrastructure, CI/CD

#### [TEAM.ML.REVIEWER.AVAILABILITY.RG] 24.3.3.4.0.0.0 Dynamic Developer Availability & Load

**Mechanism**: Integrates with external systems (e.g., calendar APIs, internal workload management systems) to assess:

- **Developer Availability**: Current status (e.g., "in a meeting," "on vacation," "working hours")
- **Past Review Load**: The number and complexity of active PRs currently assigned to a developer
- **Historical Review Performance**: Average time-to-review for past PRs

**RG Marker**: `[TEAM.ML.REVIEWER.AVAILABILITY.RG:IMPLEMENTATION]`

**Metrics Collected**:
- Active PR assignments count
- Average review time (hours)
- Current calendar status
- Workload score (0-1 scale)

#### [TEAM.ML.REVIEWER.RECOMMENDATION.RG] 24.3.3.5.0.0.0 Recommendation Generation & Confidence-Scored Deployment (AI-Powered Assignment)

**Mechanism**: This is the intelligent synthesis engine that translates complex data into actionable human resource deployment. A fine-tuned ML model (`MLReviewerSuggester17`) synthesizes all preceding data points (code impact, departmental expertise, niche specializations, dynamic availability, and workload). It generates a ranked list of optimal reviewers, each with a confidence score that quantifies the recommendation's strength.

**RG Marker**: `[TEAM.ML.REVIEWER.RECOMMENDATION.RG:IMPLEMENTATION]` - The ripgrep marker for the ML synthesis engine.

**Scoring Algorithm Enhancements**:

- **Availability Boost**: +0.1 confidence for highly available developers
- **Load Penalty**: -0.2 confidence for high load (>0.7) or low availability
- **Medium Load Adjustment**: -0.1 confidence for moderate load (0.4-0.7)
- **Specialization Multiplier**: Significant confidence boost (+0.3) if a reviewer's niche specialization (`24.3.3.3.0.0.0`) directly matches a critical PR impact
- **Confidence Normalization**: Scores are clamped to [0.0, 1.0] for consistent interpretation

**Deployment**: The top-ranked, high-confidence suggestions are automatically assigned to the PR (or presented to a human orchestrator for final approval).

**Output Format**: The `ReviewerSuggestion` Interface - An Operational Intelligence Unit

```typescript
/**
 * [TEAM.ML.REVIEWER.RECOMMENDATION.SCHEMA.RG:INTERFACE] ReviewerSuggestion Interface
 * Operational Intelligence Unit - A Nexus of AI-Driven Human Capital Orchestration
 * 
 * This interface represents a paradigm shift in how Hyper-Bun's intelligent systems 
 * convey actionable insights for human resource deployment. It is not merely a data 
 * structure; it is a fully compliant, transparent, and operationally critical schema 
 * that perfectly embodies Hyper-Bun's demanding standards for metadata, ripgrep-friendly 
 * discoverability, and AI-augmented human-system integration.
 */
interface ReviewerSuggestion {
  /**
   * Direct human traceability identifier
   * Links AI suggestion to specific individual in Hyper-Bun's organizational structure
   * Critical bridge to Human Capital Orchestration subsystem (24.0.0.0.0.0.0)
   */
  username: string;

  /**
   * Quantifiable Recommendation Strength (0-1 scale)
   * Epicentrum of the AI's recommendation, synthesized from all analyzed features:
   * - Code diff impact (24.3.3.1.0.0.0)
   * - Departmental expertise (24.3.3.2.0.0.0)
   * - Niche specializations (24.3.3.3.0.0.0)
   * - Availability & load (24.3.3.4.0.0.0)
   * Enables threshold-based automated assignments and empowers human orchestrators
   */
  confidence: number;

  /**
   * Transparent Justification & Auditability
   * Governance-by-design imperative providing concrete justification for AI decisions
   * Ensures AI logic is not a black box, facilitating:
   * - Rapid audit trails for compliance and post-incident reviews
   * - Trust building through transparent reasoning
   * - Debugging AI decisions for alignment with human expectations
   * @example ["Code owner", "Department expert (API_ROUTES)", "Specialty match (performance_tuning)"]
   */
  reasons: string[];

  /**
   * Direct Knowledge Graph Linkage
   * Links directly to [TEAM.ROLES.REVIEW_SPECIALTIES.RG] section
   * Demonstrates seamless integration with Hyper-Bun's Human Capital Knowledge Graph
   * Not just textual tags; direct, ripgrep-discoverable references to codified domain knowledge
   * @example ["performance_tuning_expert", "realtime_db_optimisation"]
   */
  expertise: string[];

  /**
   * Real-time Human Capacity Status
   * Immediate, ergonomic signal of reviewer readiness
   * Feeds into Proactive Team Resilience (24.3.0.0.0.0.0), ensuring assignments
   * are sensitive to current workload and personal schedules
   */
  availability: 'high' | 'medium' | 'low';

  /**
   * Granular Workload Quantification (0-1 scale)
   * Critical metric for intelligent load balancing
   * Synthesized from active PR assignments, meeting schedules, etc. (24.3.3.4.0.0.0)
   * Enables:
   * - Burnout prevention by avoiding overloading individuals
   * - Throughput optimization through efficient work distribution
   * - Performance analytics for evaluating AI assignment strategy effectiveness
   */
  currentLoad: number;
}
```

**Strategic Value Proposition**: The `ReviewerSuggestion` as an Operational Intelligence Unit

This interface is far more than a simple data container; it is an **operational intelligence unit** that standardizes and formalizes the output of a critical AI-driven process, ensuring it is:

1. **Transparently Actionable**: Provides all necessary context for human oversight and informed decision-making, enabling both automated assignment and human orchestrator approval workflows.

2. **Governed by Design**: Embeds auditability, traceability, and justification directly into its structure. The `reasons` field ensures every AI decision can be audited, traced, and justified for compliance and post-incident reviews.

3. **Measurably Optimizing**: Provides quantifiable metrics (`confidence`, `currentLoad`) for continuous performance evaluation of the AI model (`MLReviewerSuggester17`), enabling data-driven improvements and optimization.

4. **Integrated Vertically**: Bridges the gap between raw behavioral data, ML-driven insights, and human operational workflows within Hyper-Bun's cohesive ecosystem, seamlessly connecting the Human Capital Knowledge Graph (`TEAM.md`) with operational decision-making.

**Governance & Compliance**: The interface directly supports Hyper-Bun's ethical AI governance framework (`24.6.0.0.0.0.0`), providing the structured data necessary for:
- **Transparency & Auditability** (`24.6.1.0.0.0.0`): Full decision context via `reasons` and `confidence`
- **Human Override** (`24.6.2.0.0.0.0`): Clear metrics enable informed human decisions
- **Bias Detection** (`24.6.3.0.0.0.0`): Structured data enables systematic bias analysis

**Implementation**: `src/integrations/ml-pr-reviewer-assignment.ts`

**Benefit**: Proactively suggests the *most optimal* reviewers based on expertise, availability, and historical load, significantly accelerating PR throughput, ensuring higher code quality through relevant expertise, and preventing reviewer burnout. This moves from reactive assignment to intelligent, predictive allocation of human resources.

**Example Formula**: Trigger the ML reviewer assignment process for a PR modifying `src/services/CircuitBreaker.ts`.

```typescript
// Test Formula
const assignment = await analyzePRAndSuggestReviewers(1234, 'main');
// PR-1234 affects src/services/CircuitBreaker.ts

// Expected Result: A PR review request is created, suggesting reviewers who are:
// - [TEAM.ROLES.REVIEW_SPECIALTIES.RG] for system_reliability or performance_tuning
// - Currently available
// - Have low_review_load
// - Derived from [TEAM.DEPARTMENT.SECURITY.COMPLIANCE.RG] members
```

### [TEAM.ML.REVIEWER.CROSS.SUBSYSTEM.RG] 24.3.3.6.0.0.0 Cross-Subsystem Integration Patterns for Reviewer Assignments

This section details how the outputs from the `ML-Driven PR Reviewer Assignment` system integrate with, and drive actions across, other critical Hyper-Bun subsystems, ensuring end-to-end operational efficiency and transparency. This transforms the ML-Driven PR Reviewer Assignment into a **central nervous system for Hyper-Bun's engineering workflow**, ensuring that every code change is handled with optimal human intelligence and maximum operational efficiency across the entire stack.

#### [TEAM.ML.REVIEWER.INTEGRATION.API.RG] 24.3.3.6.1.0.0 Integration with `MarketDataRouter17` (API Layer)

**Mechanism**: The `MarketDataRouter17` (`6.1.1.2.2.8.1.1.2.7.3`) itself can be a "code owner" (`CODEOWNERS`) and its internal service changes (e.g., to `CorrelationEngine17`, `TickDataCollector17`) trigger reviewer assignments. The output (`ReviewerSuggestion`) dictates who reviews these changes to the core API layer.

**Impact**: Ensures that critical API infrastructure changes, like the addition of new `URLPattern`s or modifications to `handleRequest17`, are reviewed by individuals with expertise in routing, performance, and potentially specific market data types.

**RG Marker**: `[TEAM.ML.REVIEWER.INTEGRATION.API.RG:IMPLEMENTATION]`

**Example Formula**: A PR proposes a change to `src/routers/MarketDataRouter17.ts`.

```typescript
// Test Formula
const suggestions = await analyzePRAndSuggestReviewers(5678, 'main');
// PR-5678 affects src/routers/MarketDataRouter17.ts

// Expected Result: suggestions contain reviewers with:
// - expertise related to api_routing, bun_runtime_internals, or performance_tuning
// - Likely members of [TEAM.DEPARTMENT.API.ROUTES.RG]
// - High confidence scores due to CODEOWNERS match
```

#### [TEAM.ML.REVIEWER.INTEGRATION.ML.RG] 24.3.3.6.2.0.0 Integration with `CMMS Analyzer17` (AI/ML Data & Logic)

**Mechanism**: Changes to `CmmsAnalyzer17` (`22.2.0.0.0.0.0`) or related interfaces (like `CmmsState`) are inherently complex. Reviewer suggestions ensure that individuals with deep ML expertise, data science backgrounds, and strong understanding of market analytics are assigned.

**Impact**: Guarantees that critical AI/ML logic, risk scoring, and predictive models receive the most expert scrutiny, maintaining the integrity and accuracy of Hyper-Bun's core intelligence. This is where `expertise` like `data_science`, `machine_learning`, `statistical_modeling` are prioritized.

**RG Marker**: `[TEAM.ML.REVIEWER.INTEGRATION.ML.RG:IMPLEMENTATION]`

**Example Formula**: A PR modifies `calculateCmmsState(nodeId, window_ms)` within `src/analysis/CmmsAnalyzer17.ts`.

```typescript
// Test Formula
const suggestions = await analyzePRAndSuggestReviewers(6789, 'main');
// PR-6789 affects src/analysis/CmmsAnalyzer17.ts

// Expected Result: suggestions contain reviewers with:
// - expertise in machine_learning, risk_modeling, realtime_analytics
// - Likely from [TEAM.DEPARTMENT.DATA.ANALYTICS.RG]
// - Specialization multiplier boost (+0.3) for critical ML expertise match
```

#### [TEAM.ML.REVIEWER.INTEGRATION.RESILIENCE.RG] 24.3.3.6.3.0.0 Integration with `ProductionCircuitBreaker` (System Resilience)

**Mechanism**: Changes to `ProductionCircuitBreaker` (`12.1.0.0.0.0.0`), `ProxyConfigService` (`12.6.1.0.0.0.0`), or their associated error handling (`McpError`) are mission-critical. Reviewer suggestions prioritize experts in system reliability, network engineering, and security.

**Impact**: Ensures Hyper-Bun's resilience mechanisms are robustly reviewed, preventing vulnerabilities or regressions that could lead to cascading failures during market volatility or API outages. `expertise` in `system_reliability`, `network_security`, `error_handling_patterns` becomes paramount.

**RG Marker**: `[TEAM.ML.REVIEWER.INTEGRATION.RESILIENCE.RG:IMPLEMENTATION]`

**Example Formula**: A PR modifies `callApi` in `src/services/CircuitBreaker.ts`.

```typescript
// Test Formula
const suggestions = await analyzePRAndSuggestReviewers(1011, 'main');
// PR-1011 affects src/services/CircuitBreaker.ts

// Expected Result: suggestions prioritize reviewers with:
// - expertise in system_reliability, error_handling
// - Likely from [TEAM.DEPARTMENT.SECURITY.COMPLIANCE.RG] or 
//   [TEAM.DEPARTMENT.PERFORMANCE.CACHING.RG]
// - High confidence due to critical system component match
```

#### [TEAM.ML.REVIEWER.INTEGRATION.DX.RG] 24.3.3.6.4.0.0 Integration with `bun-console.ts` (Developer/SRE Tooling)

**Mechanism**: Changes to developer tooling (e.g., `scripts/bun-console.ts`, `mcp-scaffold.ts`, `mcp-team-info`) require review from those who actively use and maintain these tools.

**Impact**: Ensures the developer experience (DX) remains high, and operational tools are robust and intuitive. `expertise` in `developer_tooling`, `cli_automation`, `dx_enhancements` is valued.

**RG Marker**: `[TEAM.ML.REVIEWER.INTEGRATION.DX.RG:IMPLEMENTATION]`

**Example Formula**: A PR enhances `mlgs.mcp.inspectErrors()` in `scripts/bun-console.ts`.

```typescript
// Test Formula
const suggestions = await analyzePRAndSuggestReviewers(1213, 'main');
// PR-1213 affects scripts/bun-console.ts

// Expected Result: suggestions include reviewers from:
// - [TEAM.DEPARTMENT.DOCUMENTATION.DX.RG] or [TEAM.DEPARTMENT.REGISTRY.MCP.RG]
// - Potentially with expertise in cli_automation, dx_enhancements
// - Department expertise match for developer tooling
```

#### [TEAM.ML.REVIEWER.INTEGRATION.COMMUNICATION.RG] 24.3.3.6.5.0.0 Integration with External Communication Channels (Telegram, UI, RSS)

**Mechanism**: Reviewer assignments are not just internal. They drive notification to external systems:

- **Telegram/Slack (via `mlgs.alertManager.notify`)**: Once a PR is assigned, a notification (e.g., "PR-1234 assigned to @reviewer") is sent to relevant team channels, leveraging a `telegram-client` or similar.

- **UI/Dashboard (for `ReviewerSuggestion` visualization)**: The `ReviewerSuggestion` objects are displayed in Hyper-Bun's internal PR dashboard (part of `apps/@registry-dashboard/src/components/`, integrating `24.3.3.5.1.0.0 ReviewerSuggestion` interface). This UI visually highlights recommended reviewers, their availability, and expertise.

- **RSS Feeds (for `19.2.0.0.0.0.0 MCP Patch Management Tools`)**: When a patch is created (`bun patch --commit`), the code that implements `publishAuditToRSS` will be reviewed by relevant maintainers, ensuring the external audit trail is robust.

**Impact**: Provides comprehensive visibility and drives timely action, bridging the gap between internal code development and broader organizational communication.

**RG Marker**: `[TEAM.ML.REVIEWER.INTEGRATION.COMMUNICATION.RG:IMPLEMENTATION]`

**Integration Points**:

```typescript
// Telegram/Slack Notification Integration
import { notifyTeamChannel } from '../telegram/client';

async function notifyReviewerAssignment(assignment: PRReviewerAssignment) {
  const topReviewer = assignment.suggestedReviewers[0];
  await notifyTeamChannel({
    channel: 'pr-reviews',
    message: `PR-${assignment.prNumber} assigned to ${topReviewer.username} (confidence: ${topReviewer.confidence})`,
    metadata: {
      prNumber: assignment.prNumber,
      reviewer: topReviewer.username,
      reasons: topReviewer.reasons,
      expertise: topReviewer.expertise,
    },
  });
}

// Dashboard UI Integration
// apps/@registry-dashboard/src/components/pr-reviewer-suggestions.tsx
export function PRReviewerSuggestions({ assignment }: { assignment: PRReviewerAssignment }) {
  return (
    <div className="reviewer-suggestions">
      {assignment.suggestedReviewers.map((reviewer, idx) => (
        <ReviewerCard
          key={reviewer.username}
          rank={idx + 1}
          reviewer={reviewer}
          highlight={reviewer.confidence > 0.8}
        />
      ))}
    </div>
  );
}

// RSS Feed Integration
import { publishAuditToRSS } from '../rss/publisher';

async function publishReviewerAssignmentAudit(assignment: PRReviewerAssignment) {
  await publishAuditToRSS({
    title: `PR-${assignment.prNumber} Reviewer Assignment`,
    description: `ML-driven reviewer assignment: ${assignment.suggestedReviewers.map(r => r.username).join(', ')}`,
    category: 'pr-orchestration',
    metadata: {
      prNumber: assignment.prNumber,
      reviewers: assignment.suggestedReviewers,
      departmentOwners: assignment.departmentOwners,
    },
  });
}
```

---

## [STRATEGIC.IMPACT.RG] 24.4.0.0.0.0.0 Strategic Impact: Unified Human-System Intelligence

### [CROSS.FUNCTIONAL.COLLABORATION.RG] 24.4.1.0.0.0.0 Accelerated Cross-Functional Collaboration

**Benefit**: Rapidly identifies domain experts and responsible teams for any system component, breaking down organizational silos.

**Example**:

```bash
# Developer needs to understand API routing
mlgs.team.info('department:api')
# Returns: API & Routes Department Lead, responsibilities, key areas

# Developer needs security review
mlgs.team.info('department:security')
# Returns: Security Department Lead, review focus areas
```

### [ONBOARDING.KNOWLEDGE.TRANSFER.RG] 24.4.2.0.0.0.0 Enhanced Onboarding & Knowledge Transfer

**Benefit**: New hires can programmatically query `TEAM.md` to understand who does what, speeding up their integration.

**Onboarding Workflow**:

1. New developer queries: `mlgs.team.info('role:lead')`
2. Discovers department leads
3. Queries: `mlgs.team.info('department:<their-area>')`
4. Gets responsibilities and key areas
5. Queries: `mlgs.team.info('communication')`
6. Understands communication protocols

### [INCIDENT.MANAGEMENT.RG] 24.4.3.0.0.0.0 Resilient Incident Management

**Benefit**: Automated, intelligent routing of incidents to the correct human resources, minimizing operational downtime.

**Incident Response Flow**:

1. Error detected → Extract source/code
2. Query `mlgs.team.info('department:<responsible>')`
3. Route alert to department lead
4. Escalate via `[TEAM.COMMUNICATION.RG]` protocols
5. Track resolution via team structure

### [AUDIT.COMPLIANCE.RG] 24.4.4.0.0.0.0 Audit & Compliance Readiness

**Benefit**: Provides a clear, auditable structure of team responsibilities and processes, essential for internal and external compliance.

**Audit Trail**:

- All team structure changes tracked in `TEAM.md`
- RG markers enable automated validation
- CODEOWNERS generation ensures code ownership traceability
- Review assignments documented and automated

---

## [PREDICTIVE.HEALTH.RG] 24.5.0.0.0.0.0 Predictive Organizational Health & Anomaly Detection

### [TEAM.LOAD.BALANCING.RG] 24.5.1.0.0.0.0 Team Load Balancing & Resource Allocation

**Mechanism**: Gathers metrics on `mlgs.mcp` tool usage, Jira ticket load, GitHub PR activity, and incident volume for each team/department.

**Integration**: Consumes `TeamMetrics` (`26.2.0.0.0.0.0`) and other operational KPIs.

**ML Model**: Anomaly detection model identifies teams/individuals that are consistently overloaded or underutilized.

**Implementation**: `src/integrations/organizational-health-monitor.ts`

**RG Marker**: `[TEAM.LOAD.BALANCING.RG:IMPLEMENTATION]`

**Benefit**: Drives proactive resource reallocation (e.g., suggesting re-prioritization, offering help, dynamically assigning non-critical tasks to underutilized teams).

### [TEAM.SKILL.GAP.RG] 24.5.2.0.0.0.0 Skill Gap Identification & Training Recommendation

**Mechanism**: Correlates `NX-MCP-XXX` error codes (`6.1.1.2.2.8.1.1.2.6.1`) and RCA findings with individual developer contributions to identify common knowledge or skill gaps across teams.

**Integration**: AI (Claude) uses this data to recommend targeted training modules or cross-functional knowledge-sharing initiatives.

**RG Marker**: `[TEAM.SKILL.GAP.RG:IMPLEMENTATION]`

**Benefit**: Continuously upskills the Hyper-Bun engineering organization, reducing future error rates and improving overall resilience.

### [TEAM.KNOWLEDGE.AUTO.UPDATE.RG] 24.5.3.0.0.0.0 Automated Knowledge Graph Updates

**Mechanism**: AI agents automatically analyze meeting notes, chat discussions, and incident reports to identify emerging roles, new expertise, or updated team structures.

**Integration**: AI proposes updates to TEAM.md (as a pull request) with new RG markers and content, leveraging `mcp-scaffold.ts` (for interfaces/structuring) and `bun patch` (for controlled updates).

**RG Marker**: `[TEAM.KNOWLEDGE.AUTO.UPDATE.RG:IMPLEMENTATION]`

**Benefit**: Makes TEAM.md a living, self-evolving document, ensuring it remains accurate and relevant with minimal manual upkeep.

---

## [ETHICAL.AI.GOVERNANCE.RG] 24.6.0.0.0.0.0 Ethical AI & Governance for Human Capital Orchestration

### [AI.TRANSPARENCY.RG] 24.6.1.0.0.0.0 Transparency & Auditability of AI Decisions

**Mechanism**: All AI agent actions (e.g., PR reviewer assignments, incident routing suggestions, resource reallocation proposals) are logged with full `requestId`, `user`, `timestamp`, and `AI_reasoning` context, adhering to `16.4.0.0.0.0.0 Structured Logging`.

**RG Marker**: `[AI.TRANSPARENCY.RG:IMPLEMENTATION]`

**Benefit**: Ensures accountability and allows human oversight and debugging of AI-driven decisions.

### [AI.HUMAN.OVERRIDE.RG] 24.6.2.0.0.0.0 Human Override & Feedback Loops

**Mechanism**: Explicit mechanisms for human override of AI suggestions (e.g., manually reassigning PRs, rejecting AI-generated resource shifts). Human feedback is captured and fed back into the AI model for continuous improvement.

**RG Marker**: `[AI.HUMAN.OVERRIDE.RG:IMPLEMENTATION]`

**Benefit**: Maintains human agency and ensures the AI serves, rather than dictates, the human organization.

### [AI.BIAS.DETECTION.RG] 24.6.3.0.0.0.0 Bias Detection & Mitigation

**Mechanism**: Regularly audit AI decisions (e.g., reviewer assignments, load distribution) for unintended biases (e.g., disproportionately assigning work to specific individuals/groups).

**RG Marker**: `[AI.BIAS.DETECTION.RG:IMPLEMENTATION]`

**Benefit**: Ensures fairness and equity in AI-driven human capital management.

---

## [IMPLEMENTATION.FILES.RG] Implementation Files

### Core Files

- **`.github/TEAM.md`** - Human capital knowledge graph (22+ RG markers including policies, on-call, specialties)
- **`src/mcp/tools/team-info.ts`** - MCP tool for querying TEAM.md
- **`scripts/generate-codeowners.ts`** - CODEOWNERS file generator
- **`src/mcp/tools/ai-team-tools.ts`** - MCP tool registration (includes `mlgs.team.info`)

### Integration Files

- **`src/integrations/team-policy-enforcement.ts`** - Policy extraction and enforcement
- **`src/integrations/oncall-roster-generator.ts`** - On-call roster generation and PagerDuty sync
- **`src/integrations/ml-pr-reviewer-assignment.ts`** - ML-driven PR reviewer assignment
- **`src/integrations/organizational-health-monitor.ts`** - Team load balancing and anomaly detection
- **`src/integrations/ai-governance.ts`** - Ethical AI governance and bias detection
- **`src/integrations/codeowners-watcher.ts`** - Real-time CODEOWNERS synchronization
- **`src/integrations/ai-team-knowledge.ts`** - AI agent integration with TEAM.md

### RG Markers

**TEAM.md Markers (22+)**:
- `[TEAM.STRUCTURE.RG]` - Document header
- `[TEAM.OVERVIEW.RG]` - Overview section
- `[TEAM.DEPARTMENTS.RG]` - Departments section
- `[TEAM.DEPARTMENT.*.RG]` - 8 department markers
- `[TEAM.ROLES.*.RG]` - 4 role markers
- `[TEAM.REVIEW.ASSIGNMENT.RG]` - Review assignment
- `[TEAM.COMMUNICATION.RG]` - Communication protocols
- `[TEAM.DEPARTMENT.COLORS.RG]` - Department colors
- `[TEAM.POLICY.ENFORCEMENT.RG]` - Policy enforcement section
- `[TEAM.POLICY.PR_REVIEW_SLA.RG]` - PR review SLA policy
- `[TEAM.POLICY.INCIDENT_RESPONSE_ROSTER.RG]` - Incident response roster policy
- `[TEAM.POLICY.ALERT_THRESHOLD.RG]` - Alert threshold policy
- `[TEAM.ROLES.ONCALL.RG:SCHEDULE]` - On-call rotation schedule
- `[TEAM.ROLES.REVIEW_SPECIALTIES.RG]` - Reviewer specialties
- `[TEAM.METADATA.RG]` - Document metadata

**team-info.ts Markers (5)**:
- `[TEAM.INFO.TOOL.RG:IMPLEMENTATION]` - Tool definition
- `[TEAM.INFO.QUERY.RG:IMPLEMENTATION]` - Query function
- `[TEAM.INFO.QUERY.PARSING.RG:IMPLEMENTATION]` - Query parsing
- `[TEAM.INFO.RIPGREP.EXECUTE.RG:IMPLEMENTATION]` - Ripgrep execution
- `[TEAM.INFO.TOOL.CREATE.RG:IMPLEMENTATION]` - Tool creation
- `[TEAM.INFO.TOOL.EXECUTE.RG:IMPLEMENTATION]` - Tool execution
- `[TEAM.INFO.ARGS.RG:SCHEMA]` - Arguments schema

**generate-codeowners.ts Markers (4)**:
- `[CODEOWNERS.GENERATOR.RG:IMPLEMENTATION]` - Generator script
- `[CODEOWNERS.PARSING.RG:IMPLEMENTATION]` - TEAM.md parsing
- `[CODEOWNERS.GENERATION.RG:IMPLEMENTATION]` - CODEOWNERS generation
- `[CODEOWNERS.MAIN.RG:IMPLEMENTATION]` - Main execution

---

## [USAGE.EXAMPLES.RG] Usage Examples

### Query Department Information

```bash
# Via MCP tool
bun run scripts/mcp-server.ts
# Then: mlgs.team.info('department:arbitrage')

# Via ripgrep directly
rg '\[TEAM\.DEPARTMENT\.ARBITRAGE\.TRADING\.RG\]' .github/TEAM.md -A 30
```

### Generate CODEOWNERS

```bash
# Generate CODEOWNERS from TEAM.md
bun run scripts/generate-codeowners.ts

# Verify generated file
cat .github/CODEOWNERS
```

### AI-Assisted Incident Routing

```typescript
// Error occurs in src/mcp/server.ts
const errorSource = 'src/mcp/server.ts';
const department = errorSource.includes('mcp') ? 'registry' : 'api';

const teamInfo = await executeTeamInfoTool({
  query: `department:${department}`
});

// Route alert to teamInfo.matches[0].lead
```

---

## [INTEGRATION.POINTS.RG] Integration Points

### Existing Subsystems

- **`6.1.1.2.2.8.1.1.2.6`** - Enhanced MCP Error Code Management (incident routing)
- **`16.0.0.0.0.0.0`** - Centralized Logging & Observability (error detection)
- **`23.0.0.0.0.0.0`** - MCP Scaffold Subsystem (team metadata in generated code)
- **`src/mcp/tools/team-coordinator.ts`** - Team Coordinator Tool (review assignments)

### CI/CD Integration

```yaml
# .github/workflows/validate-codeowners.yml
- name: Validate CODEOWNERS
  run: |
    bun run scripts/generate-codeowners.ts
    git diff --exit-code .github/CODEOWNERS || \
      (echo "CODEOWNERS out of sync with TEAM.md" && exit 1)
```

---

## [METADATA.RG] Document Metadata

**Last Updated**: 2025-01-27  
**Version**: 2.0.0  
**Status**: ✅ Active  
**Ripgrep Pattern**: `HUMAN.CAPITAL.ORCHESTRATION.RG|24.0.0.0.0.0.0`

---

## [REFERENCES.RG] References

- [`.github/TEAM.md`](../.github/TEAM.md) - Team structure documentation
- [`src/mcp/tools/team-info.ts`](../src/mcp/tools/team-info.ts) - Team Info MCP Tool
- [`scripts/generate-codeowners.ts`](../scripts/generate-codeowners.ts) - CODEOWNERS generator
- [`docs/TEAM-ORGANIZATION-IMPLEMENTATION-PATTERNS.md`](./TEAM-ORGANIZATION-IMPLEMENTATION-PATTERNS.md) - Team organization patterns
